{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/utils/audiomodule.ts","webpack:///./src/components/svg.tsx","webpack:///../node_modules/@lrc-maker/lrc-parser/src/lrc-parser.ts","webpack:///./src/hooks/useLang.ts","webpack:///./src/components/app.context.tsx","webpack:///./src/components/toast.tsx","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/components/svg.img.tsx","webpack:///./src/utils/gistapi.ts","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./src/hooks/usePref.ts","webpack:///./src/utils/pubsub.ts","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./src/hooks/useLrc.ts","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/entry-unbind.js","webpack:///./src/languages/en-US.ts","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/string-pad.js","webpack:///./node_modules/core-js/internals/webkit-string-pad-bug.js","webpack:///./src/polyfill/es6+.ts","webpack:///./node_modules/core-js/es/array/includes.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/bind-context.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/es/object/entries.js","webpack:///./node_modules/core-js/modules/es.object.entries.js","webpack:///./node_modules/core-js/es/object/values.js","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/es/string/pad-end.js","webpack:///./node_modules/core-js/modules/es.string.pad-end.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/user-agent.js","webpack:///./node_modules/core-js/es/string/pad-start.js","webpack:///./node_modules/core-js/modules/es.string.pad-start.js","webpack:///./src/polyfill/details-summary.ts","webpack:///./build.es6/languages eager ^\\.\\/.*\\.js$ namespace object","webpack:///./src/languages/ja.ts","webpack:///./src/languages/zh-CN.ts","webpack:///./src/languages/zh-HK.ts","webpack:///./src/languages/zh-TW.ts","webpack:///./src/components/editor.tsx","webpack:///./src/components/gist.tsx","webpack:///./src/polyfill/smooth-scroll.ts","webpack:///./src/components/loadaudio.tsx","webpack:///./src/components/home.tsx","webpack:///./src/components/content.tsx","webpack:///./src/components/audio.tsx","webpack:///./src/components/footer.tsx","webpack:///./src/components/header.tsx","webpack:///./src/index.ts","webpack:///./src/components/app.tsx","webpack:///./src/components/asidepanel.tsx","webpack:///./src/components/curser.tsx","webpack:///./src/components/synchronizer.tsx","webpack:///./src/components/preferences.tsx","webpack:///./src/utils/sw.unregister.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","audioRef","current","this","src","duration","paused","playbackRate","rate","currentTime","time","play","pause","audioStatePubSub","currentTimePubSub","HomeSVG","xmlns","width","height","viewBox","fill","EditorSVG","SynchronizerSVG","CloudSVG","PreferencesSVG","PlaySVG","PauseSVG","Replay5sSVG","Forward5sSVG","LoadAudioSVG","CloseSVG","opacity","DownloadSVG","LockSVG","className","CopySVG","OpenFileSVG","CloudUploadSVG","GithubSVG","CheckSVG","InfoSVG","ProblemSVG","UtilitySVG","parser","lrcString","option","trimStart","trimEnd","lines","split","timeTag","infoTag","info","Map","lyric","line","push","text","lastIndex","rTimeTag","exec","mm","Number","parseInt","ss","parseFloat","replace","slice","rInfoTag","trim","set","forEach","storedFormatter","convertTimeToTag","fixed","withBrackets","undefined","formatter","has","newFormatter","Intl","NumberFormat","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","useGrouping","getFormatter","Math","floor","toString","padStart","format","formatText","spaceStart","spaceEnd","newText","repeat","stringify","state","endOfLine","infos","Array","from","entries","map","concat","join","useLang","setValue","React","useState","en_US","useCallback","lang","langCode","language","setLang","createContext","useEffect","useMemo","appContext","prev","next","bits","prefState","builtInAudio","AppProvider","children","prefDispatch","usePref","localStorage","getItem","catch","error","toast","pub","type","message","document","title","app","fullname","documentElement","trimOptions","Provider","toastPubSub","useRef","box","id","Toast","self","toastQueue","setToastQueue","sub","data","queue","onAnimationEnd","ev","animationName","ToastIter","badge","success","warning","it","check","globalThis","window","global","Function","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","e","rejected","result","done","then","apply","AkariHideWall","alt","crossOrigin","AkariNotFound","AkariOangoLoading","apiUrl","getRepos","token","res","fetch","method","headers","Authorization","ok","Error","statusText","json","createRepo","body","JSON","description","public","files","content","assignRepo","getFils","etag","status","setItem","ratelimit","sessionStorage","createFile","fileName","fails","a","getOwnPropertyDescriptor","f","createNonEnumerableProperty","redefine","setGlobal","copyConstructorProperties","isForced","options","source","target","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","forced","sham","parse","getElementById","textContent","themeColor","orange","yellow","lime","green","blue","navy","grey","red","pink","purple","initState","screenButton","reducer","action","payload","init","lazyInit","languages","navigator","startsWith","find","storedState","validKeys","keys","useReducer","createPubSub","bus","cb","delete","IndexedObject","requireObjectCoercible","DESCRIPTORS","definePropertyModule","createPropertyDescriptor","IE8_DOM_DEFINE","anObject","toPrimitive","nativeDefineProperty","O","Attributes","TypeError","isObject","String","guard","min","max","lrc","selectIndex","length","audioTime","nextTime","record","reduce","nextIndex","currentIndex","Infinity","obj","mergeObject","index","newLyric","select","useLrc","path","aFunction","variable","namespace","arguments","ceil","argument","isNaN","CONSTRUCTOR","METHOD","languageName","header","home","editor","synchronizer","gist","preferences","audio","loadAudio","replay5s","forward5s","resetRate","file","url","loadFile","tips","tipForLyricText","tipForUploadAudio","tipForSynchronizer","tipTopLeft","tipTopRight","tipBottomLeft","tipBottomRight","metaInfo","album","artist","uploadText","copyText","downloadText","saveToGist","saveFileName","utils","newTokenTip","newTokenButton","newGistTip","newGistRepoButton","gistIdPlaceholder","clearTokenAndGist","version","commitHash","updateTime","repo","help","spaceButton","lrcFormat","leftSpace","rightSpace","clearCache","notify","audioLoaded","propertyIsEnumerableModule","toIndexedObject","nativeGetOwnPropertyDescriptor","nativePropertyIsEnumerable","propertyIsEnumerable","NASHORN_BUG","1","V","bitmap","configurable","writable","input","PREFERRED_STRING","fn","val","valueOf","createElement","EXISTS","store","functionToString","inspectSource","shared","uid","IS_PURE","copyright","postfix","random","indexOf","hiddenKeys","names","toLength","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","toInteger","getOwnPropertySymbols","internalObjectKeys","enumBugKeys","objectKeys","TO_ENTRIES","values","IS_END","maxLength","fillString","fillLen","stringFiller","S","stringLength","fillStr","intMaxLength","start","end","userAgent","test","entryUnbind","$","$includes","addToUnscopables","proto","g","classof","InternalStateModule","getInternalState","enforceInternalState","enforce","TEMPLATE","unsafe","simple","NATIVE_WEAK_MAP","objectHas","sharedKey","WeakMap","wmget","wmhas","wmset","metadata","STATE","getterFor","TYPE","ownKeys","getOwnPropertyDescriptorModule","getBuiltIn","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyNames","integer","replacement","feature","detection","normalize","POLYFILL","NATIVE","string","toLowerCase","wellKnownSymbol","UNSCOPABLES","ArrayPrototype","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","iterator","activeXDocument","defineProperties","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","LT","NullProtoObject","domain","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","contentWindow","open","F","Properties","that","b","$entries","$values","$padEnd","padEnd","count","str","RangeError","$padStart","details","constructor","tagName","hasAttribute","event","createEvent","initEvent","dispatchEvent","setAttribute","removeAttribute","addEventListener","summary","closest","parentElement","polyfilldetails","webpackAsyncContext","req","webpackAsyncContextResolve","code","useContext","disableCheck","autoCapitalize","autoComplete","autoCorrect","spellCheck","useDefaultValue","defaultValue","ref","currentValue","Eidtor","lrcState","lrcDispatch","setInfo","onDetailsToggle","detailsOpened","textarea","href","setHref","onDownloadClick","URL","revokeObjectURL","createObjectURL","Blob","onTextFileUpload","fileReader","FileReader","readAsText","onCopyClick","execCommand","downloadName","list","lrcInfo","filenamify","Date","now","canSaveToGist","onGistSave","setTimeout","prompt","onToggle","onBlur","htmlFor","placeholder","hidden","accept","onChange","onClick","download","Gist","langName","setToken","gistId","setGistId","gistIdList","setGistIdList","fileList","setFileList","onSubmitToken","preventDefault","elements","namedItem","onCreateNewGist","onSubmitGistId","filter","filename","endsWith","onFileLoad","dataset","truncated","raw_url","onClear","RateLimit","RatelimitReset","DateTimeFormat","year","month","day","hour","minute","second","hour12","GistDetails","NewToken","onSubmit","minLength","required","NewGistID","gistIdDataList","FileCardList","FileCard","GistLoading","getNow","performance","rafID","cancelScroll","cancelAnimationFrame","cleanEventListener","listenerOptions","passive","once","removeEventListener","context","startTime","startX","startY","stopY","elapsed","currentY","k","cos","PI","ease","requestAnimationFrame","scrollingElement","Element","scrollIntoView","top","bottom","getBoundingClientRect","center","viewportHeight","visualViewport","innerHeight","scrollLeft","scrollTop","x","y","scroll","loadAudioDialogRef","LoadAudio","setAudioSrc","onEscapeKeyDown","urlInput","nec","onFocus","ReactDOM","createPortal","defaultChecked","match","Home","shiftKey","location","hash","lazy","LazyEditor","default","LazySynchronizer","Synchronizer","LazyGist","LazyPreferences","Preferences","Content","setPath","saveState","dataTransfer","onload","rgb","hex2rgb","setProperty","con","luminanace","contrastColor","dispatch","Suspense","fallback","v","pow","hex","Slider","onInput","percent","TimeLine","setCurrentTime","setRate","setInterval","clearInterval","rafId","durationTimeTag","RateSlider","setPlaybackRate","playbackRateSliderValue","log","onPlaybackRateChange","exp","onPlaybackRateReset","toFixed","LrcAudio","setPaused","setDuration","onReplay5s","onForward5s","onPlayPauseToggle","toggle","onLoadAudioButtonClick","disabled","Footer","audioSrc","oldSrc","newSrc","search","URLSearchParams","searchParams","codeOrKey","ac","metaKey","ctrlKey","newRate","receiveFile","onAudioInputChange","onAudioLoadedMetadata","syncCurrentTime","onAudioPlay","onAudioPause","onAudioEnded","onAudioTimeUpdate","onAudioRateChange","onAudioError","controls","onLoadedMetadata","onPlay","onPause","onEnded","onTimeUpdate","onRateChange","onError","removeItem","worker","Worker","dataArray","musicFile","detectMimeType","terminate","postMessage","DataView","buffer","getUint32","Header","render","querySelector","remove","dropEffect","AsidePanel","memo","syncMode","setSyncMode","setName","onSyncModeToggle","toLocaleString","Curser","setTime","B","date","SpaceButton","sync","highlightIndex","ul","needScrollLine","behavior","block","inline","listener","onLineClick","stopPropagation","classList","contains","lineKey","onLineDoubleClick","LyricLineIter","highlight","LyricLine","ulClassName","onClickCapture","onDoubleClickCapture","lineTime","lineText","useNumberInput","callback","validity","valid","onColorPick","userColorInputText","onUserInput","onUserColorInputBlur","onColorSubmit","onSpaceChange","onCacheClear","caches","cacheNames","all","cacheName","serviceWorker","getRegistration","registration","unregister","reload","timeZoneName","onLangChanged","onBuiltInAudioToggle","onScreenButtonToggle","onFixedChanged","LangOptionList","ColorPickerWall","color","checked","classNames","backgroundColor","currentThemeColorStyle","formatedText","userColorLabel","userColorInput","rel","pattern","onTransitionEnd"],"mappings":"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","file":"index.es6.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 49);\n","import { createPubSub } from \"./pubsub.js\";\n\ninterface IAudioRef extends React.RefObject<HTMLAudioElement> {\n    readonly src: string;\n    readonly duration: number;\n    readonly paused: boolean;\n    playbackRate: number;\n    currentTime: number;\n    toggle: () => void;\n}\n\nexport const audioRef: IAudioRef = {\n    current: null,\n\n    get src() {\n        return this.current?.src ?? \"\";\n    },\n\n    get duration() {\n        return this.current?.duration ?? 0;\n    },\n\n    get paused() {\n        return this.current?.paused ?? true;\n    },\n\n    get playbackRate() {\n        return this.current?.playbackRate ?? 1;\n    },\n    set playbackRate(rate: number) {\n        if (this.current !== null) {\n            this.current.playbackRate = rate;\n        }\n    },\n\n    get currentTime() {\n        return this.current?.currentTime ?? 0;\n    },\n    set currentTime(time: number) {\n        if (this.current !== null && this.current.duration !== 0) {\n            this.current.currentTime = time;\n        }\n    },\n\n    toggle() {\n        if (this.current?.duration) {\n            this.current.paused ? this.current.play() : this.current.pause();\n        }\n    },\n};\n\nexport const enum AudioActionType {\n    pause,\n    getDuration,\n    rateChange,\n}\n\nexport type AudioState =\n    | {\n          type: AudioActionType.pause;\n          payload: boolean;\n      }\n    | {\n          type: AudioActionType.getDuration;\n          payload: number;\n      }\n    | {\n          type: AudioActionType.rateChange;\n          payload: number;\n      };\n\nexport const audioStatePubSub = createPubSub<AudioState>();\nexport const currentTimePubSub = createPubSub<number>();\n","// tslint:disable:max-line-length\nexport const HomeSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z\" />\n    </svg>\n);\n\nexport const EditorSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\n    </svg>\n);\n\nexport const SynchronizerSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 9.21v5.59c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.8a.5.5 0 0 0-.85.36zM8.6 17H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm5.6 5H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zm0 4H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1z\" />\n    </svg>\n);\n\nexport const CloudSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z\" />\n    </svg>\n);\n\nexport const PreferencesSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z\" />\n    </svg>\n);\n\nexport const PlaySVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z\" />\n    </svg>\n);\n\nexport const PauseSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z\" />\n    </svg>\n);\n\nexport const Replay5sSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.26-2.14 3.99-4.39 4.53-3.64.88-6.93-1.6-7.42-4.96-.06-.49-.48-.86-.97-.86-.6 0-1.08.53-1 1.13.63 4.47 4.94 7.75 9.77 6.67 3.09-.69 5.39-3.08 5.99-6.19C20.84 9.48 16.94 5 12 5zm-1.31 8.9l.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6c0 .19-.03.37-.09.54s-.15.32-.27.45-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15c.11 0 .2-.02.27-.06s.14-.1.18-.17.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09l-.67-.16z\" />\n    </svg>\n);\n\nexport const Forward5sSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path d=\"M18.87 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.27 10.42 8.22 7 11.95 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71L12.8 1.85c-.31-.31-.85-.09-.85.35V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-6.44 2.15c-.05.07-.11.13-.18.17s-.17.06-.27.06c-.17 0-.31-.05-.42-.15s-.17-.24-.19-.41h-.84c.01.2.05.37.13.53s.19.28.32.39.29.19.46.24.35.08.53.08c.24 0 .46-.04.64-.12s.33-.18.45-.31.21-.28.27-.45.09-.35.09-.54c0-.22-.03-.43-.09-.6s-.14-.33-.25-.45-.25-.22-.41-.28-.34-.1-.55-.1c-.07 0-.14.01-.2.02s-.13.02-.18.04-.1.03-.15.05-.08.04-.11.05l.11-.92h1.7v-.71H10.9l-.25 2.17.67.17c.03-.03.06-.06.1-.09s.07-.05.12-.07.1-.04.15-.05.13-.02.2-.02c.12 0 .22.02.3.05s.16.09.21.15.1.14.13.24.04.19.04.31-.01.22-.03.31-.06.17-.11.24z\" />\n    </svg>\n);\n\nexport const LoadAudioSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H5V8h14v10h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7.35 6.35l-2.79 2.79c-.32.32-.1.86.35.86H11v5c0 .55.45 1 1 1s1-.45 1-1v-5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01z\" />\n    </svg>\n);\n\nexport const CloseSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path\n            opacity=\".3\"\n            d=\"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z\"\n        />\n        <path d=\"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n    </svg>\n);\n\nexport const DownloadSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z\" />\n    </svg>\n);\n\nexport const LockSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path\n            className=\"lock-open\"\n            d=\"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v8z\"\n        />\n        <path\n            className=\"lock-close\"\n            d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z\"\n        />\n    </svg>\n);\n\nexport const CopySVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z\" />\n    </svg>\n);\n\nexport const OpenFileSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z\" />\n    </svg>\n);\n\nexport const CloudUploadSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z\" />\n    </svg>\n);\n\nexport const GithubSVG = () => (\n    <svg className=\"github-svg\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 16 16\">\n        <path d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z\" />\n    </svg>\n);\n\nexport const CheckSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z\" />\n    </svg>\n);\n\nexport const InfoSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z\" />\n    </svg>\n);\n\nexport const ProblemSVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0V0z\" />\n        <path d=\"M2.73 21h18.53c.77 0 1.25-.83.87-1.5l-9.27-16c-.39-.67-1.35-.67-1.73 0l-9.27 16c-.38.67.1 1.5.87 1.5zM13 18h-2v-2h2v2zm-1-4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1z\" />\n    </svg>\n);\n\nexport const UtilitySVG = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n        <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        <path d=\"M8.2 10.5c-.4-.3-1-.5-1.5-.4 0 0-3.6-3-4.3-4.3-.5-1-.6-2.8 0-3.4.6-.6 2.4-.5 3.4 0C7 3.1 10 6.7 10 6.7c0 .6 0 1.1.4 1.6l-2.3 2.2zM18.7 17.8l.3-.2 1 .9 2 3-.5.5-3-1.9-1-1.1.3-.3L14 15l1-1 3.7 3.9z\" />\n        <path d=\"M13.2 7.8c-.5-1.6 0-3.3 1.1-4.5a4.5 4.5 0 0 1 4.4-1.1L16 4.7l.7 2.5 2.5.7 2.5-2.5c.4 1.5 0 3.1-1.1 4.3a4.5 4.5 0 0 1-4.6 1.1L5.6 21.4a2.1 2.1 0 0 1-3 0c-.8-.8-.8-2.2 0-3L13.2 7.8zM3.9 21c.5 0 .8-.3.8-.8a.8.8 0 1 0-1.6 0c0 .5.4.8.8.8z\" />\n    </svg>\n);\n","declare global {\n    // tslint:disable-next-line: interface-name\n    interface String {\n        trimStart(): string;\n        trimEnd(): string;\n    }\n}\n\nexport type Fixed = 0 | 1 | 2 | 3;\n\nexport interface ILyric {\n    time?: number;\n    text: string;\n}\n\nexport type State = Readonly<{\n    info: Map<string, string>;\n    lyric: readonly ILyric[];\n}>;\n\nexport type TrimOptios = Partial<{\n    trimStart: boolean;\n    trimEnd: boolean;\n}>;\n\nexport const parser = (lrcString: string, option: TrimOptios = {}): State => {\n    const { trimStart = false, trimEnd = false } = option;\n\n    const lines = lrcString.split(/\\r\\n|\\n|\\r/);\n\n    const timeTag = /\\[\\s*(\\d{1,3}):(\\d{1,2}(?:[:.]\\d{1,3})?)\\s*]/g;\n    const infoTag = /\\[\\s*(\\w{1,6})\\s*:(.*?)]/;\n\n    const info: Map<string, string> = new Map();\n    const lyric: ILyric[] = [];\n\n    for (const line of lines) {\n        if (line[0] !== \"[\") {\n            lyric.push({\n                text: line,\n            });\n            continue;\n        }\n\n        // now, line starts with \"[\"\n        timeTag.lastIndex = 0;\n        const rTimeTag = timeTag.exec(line);\n        if (rTimeTag !== null) {\n            const mm = Number.parseInt(rTimeTag[1], 10);\n            const ss = Number.parseFloat(rTimeTag[2].replace(\":\", \".\"));\n            const text = line.slice(timeTag.lastIndex);\n\n            lyric.push({\n                time: mm * 60 + ss,\n                text,\n            });\n\n            continue;\n        }\n\n        const rInfoTag = infoTag.exec(line);\n        if (rInfoTag !== null) {\n            const value = rInfoTag[2].trim();\n\n            if (value === \"\") {\n                continue;\n            }\n\n            info.set(rInfoTag[1], value);\n\n            continue;\n        }\n\n        // if we reach here, it means this line starts with \"[\",\n        // but not match time tag or info tag.\n\n        lyric.push({\n            text: line,\n        });\n    }\n\n    if (trimStart || trimEnd) {\n        lyric.forEach((line) => {\n            if (trimStart) {\n                line.text = line.text.trimStart();\n            }\n            if (trimEnd) {\n                line.text = line.text.trimEnd();\n            }\n        });\n    }\n\n    return { info, lyric };\n};\n\nconst storedFormatter = new Map<Fixed, Intl.NumberFormat>();\n\nconst getFormatter = (fixed: Fixed) => {\n    if (storedFormatter.has(fixed)) {\n        return storedFormatter.get(fixed)!;\n    } else {\n        const newFormatter = new Intl.NumberFormat(\"en\", {\n            minimumIntegerDigits: 2,\n            minimumFractionDigits: fixed,\n            maximumFractionDigits: fixed,\n            useGrouping: false,\n        });\n        storedFormatter.set(fixed, newFormatter);\n        return newFormatter;\n    }\n};\n\nexport const convertTimeToTag = (time: number | undefined, fixed: Fixed, withBrackets = true) => {\n    if (time === undefined) {\n        return \"\";\n    }\n\n    const formatter = getFormatter(fixed);\n\n    const mm = Math.floor(time / 60)\n        .toString()\n        .padStart(2, \"0\");\n    const ss = formatter.format(time % 60);\n\n    return withBrackets ? `[${mm}:${ss}]` : `${mm}:${ss}`;\n};\n\nexport const formatText = (text: string, spaceStart: number, spaceEnd: number) => {\n    let newText = text;\n    if (spaceStart >= 0) {\n        newText = \" \".repeat(spaceStart) + newText.trimStart();\n    }\n    if (spaceEnd >= 0) {\n        newText = newText.trimEnd() + \" \".repeat(spaceEnd);\n    }\n    return newText;\n};\n\nexport interface IFormatOptions {\n    spaceStart: number;\n    spaceEnd: number;\n    fixed: Fixed;\n    endOfLine?: \"\\n\" | \"\\r\\n\" | \"\\r\";\n}\n\nexport const stringify = (state: State, option: IFormatOptions): string => {\n    const { spaceStart, spaceEnd, fixed, endOfLine = \"\\r\\n\" } = option;\n\n    const infos = Array.from(state.info.entries()).map(([name, value]) => {\n        return `[${name}: ${value}]`;\n    });\n\n    const lines = state.lyric.map((line) => {\n        if (line.time === undefined) {\n            return line.text;\n        }\n        const text = formatText(line.text, spaceStart, spaceEnd);\n\n        return `${convertTimeToTag(line.time, fixed)}${text}`;\n    });\n    return infos.concat(lines).join(endOfLine);\n};\n","import { language as en_US } from \"../languages/en-US.js\";\n\nexport const useLang = (): [Language, (lang: string) => Promise<void>] => {\n    const [value, setValue] = React.useState<Language>(en_US);\n\n    const setLang = async (langCode: string) => {\n        const { language } = await import(/* webpackMode: \"eager\" */ `../languages/${langCode}.js`);\n        setValue(language);\n    };\n\n    return [value, React.useCallback((lang: string) => setLang(lang), [])];\n};\n","import { useLang } from \"../hooks/useLang.js\";\nimport { Action as PrefAction, State as PrefState, usePref } from \"../hooks/usePref.js\";\nimport { TrimOptios } from \"../lrc-parser.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { createContext, useEffect, useMemo } = React;\n\ninterface IAppContext {\n    lang: Language;\n    prefState: PrefState;\n    prefDispatch: React.Dispatch<PrefAction>;\n    trimOptions: Required<TrimOptios>;\n}\n\nconst enum Bits {\n    lang,\n    // lrcFormat,\n    builtInAudio,\n    // screenButton,\n    // themeColor,\n    prefState,\n}\n\n// tslint:disable: no-bitwise\nexport const enum ChangBits {\n    lang = 1 << Bits.lang,\n    // lrcFormat = 1 << Bits.lrcFormat,\n    builtInAudio = 1 << Bits.builtInAudio,\n    // screenButton = 1 << Bits.screenButton,\n    // themeColor = 1 << Bits.themeColor,\n    prefState = 1 << Bits.prefState,\n}\n\nexport const appContext = createContext<IAppContext>(undefined, (prev, next) => {\n    let bits = 0;\n\n    if (prev.lang !== next.lang) {\n        bits |= ChangBits.lang;\n    }\n\n    // const changed = (prop: keyof IAppContext[\"prefState\"]) => {\n    //     return prev.prefState[prop] !== next.prefState[prop];\n    // };\n\n    // if (changed(\"spaceStart\") || changed(\"spaceEnd\") || changed(\"fixed\")) {\n    //     bits |= ChangBits.lrcFormat;\n    // }\n\n    // if (changed(\"builtInAudio\")) {\n    //     bits |= ChangBits.builtInAudio;\n    // }\n    // if (changed(\"screenButton\")) {\n    //     bits |= ChangBits.screenButton;\n    // }\n\n    // if (changed(\"themeColor\")) {\n    //     bits |= ChangBits.themeColor;\n    // }\n\n    if (prev.prefState.builtInAudio !== next.prefState.builtInAudio) {\n        bits |= ChangBits.builtInAudio;\n    }\n\n    if (prev.prefState !== next.prefState) {\n        bits |= ChangBits.prefState;\n    }\n\n    return bits;\n});\n\nexport const AppProvider: React.FC = ({ children }) => {\n    const [prefState, prefDispatch] = usePref(() => localStorage.getItem(LSK.preferences) || Const.emptyString);\n\n    const [lang, setLang] = useLang();\n\n    useEffect(() => {\n        setLang(prefState.lang).catch((error) => {\n            toastPubSub.pub({\n                type: \"warning\",\n                text: error.message,\n            });\n        });\n    }, [prefState.lang]);\n\n    useEffect(() => {\n        document.title = lang.app.fullname;\n        document.documentElement.lang = prefState.lang;\n    }, [lang]);\n\n    const value = useMemo(() => {\n        return {\n            lang,\n            prefState,\n            prefDispatch,\n            trimOptions: {\n                trimStart: prefState.spaceStart >= 0,\n                trimEnd: prefState.spaceEnd >= 0,\n            },\n        };\n    }, [lang, prefState]);\n\n    return <appContext.Provider value={value}>{children}</appContext.Provider>;\n};\n","import { createPubSub } from \"../utils/pubsub.js\";\nimport { CheckSVG, InfoSVG, ProblemSVG } from \"./svg.js\";\n\ntype MessageType = \"info\" | \"success\" | \"warning\";\n\ninterface IMessage {\n    type: MessageType;\n    text: string;\n}\n\nexport const toastPubSub = createPubSub<IMessage>();\n\nconst { useCallback, useEffect, useRef, useState } = React;\n\nconst box = { id: 0 };\n\nexport const Toast = () => {\n    const self = useRef(Symbol(Toast.name));\n\n    interface IToast extends IMessage {\n        id: number;\n    }\n\n    const [toastQueue, setToastQueue] = useState<IToast[]>([]);\n\n    useEffect(() => {\n        toastPubSub.sub(self.current, (data) => {\n            setToastQueue((queue) => [{ id: box.id++, ...data }, ...queue]);\n        });\n    }, []);\n\n    const onAnimationEnd = useCallback((ev: React.AnimationEvent<HTMLElement>) => {\n        if (ev.animationName === \"slideOutRight\") {\n            setToastQueue((queue) => queue.slice(0, -1));\n        }\n    }, []);\n\n    const ToastIter = useCallback((toast: IToast) => {\n        const badge = {\n            info: <InfoSVG />,\n            success: <CheckSVG />,\n            warning: <ProblemSVG />,\n        }[toast.type];\n\n        return (\n            <section className=\"toast\" key={toast.id}>\n                <section className={`toast-badge toast-${toast.type}`}>{badge}</section>\n                <section className=\"toast-text\">{toast.text}</section>\n            </section>\n        );\n    }, []);\n\n    return (\n        <div className=\"toast-queue\" onAnimationEnd={onAnimationEnd}>\n            {toastQueue.map(ToastIter)}\n        </div>\n    );\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export const AkariHideWall: React.FC = () => {\n    return (\n        <img className=\"akari-hide-wall\" alt=\"akari-hide-wall\" src={MetaData.akariHideWall} crossOrigin=\"anonymous\" />\n    );\n};\n\nexport const AkariNotFound: React.FC = () => {\n    return <img className=\"akari-not-found\" alt=\"not found\" src={MetaData.akariNotFound} crossOrigin=\"anonymous\" />;\n};\n\nexport const AkariOangoLoading: React.FC = () => {\n    return (\n        <img\n            className=\"akari-odango-loading start-loading\"\n            alt=\"loading\"\n            src={MetaData.akariOdangoLoading}\n            crossOrigin=\"anonymous\"\n        />\n    );\n};\n","const apiUrl = \"https://api.github.com/gists\";\n\nexport interface IGistFile {\n    filename: string;\n    content: string;\n    truncated: boolean;\n    raw_url: string;\n}\n\nexport interface IGistRepo {\n    id: string;\n    description: string;\n    files: { [filename: string]: IGistFile };\n}\n\nexport type Ratelimit = Record<\"x-ratelimit-limit\" | \"x-ratelimit-remaining\" | \"x-ratelimit-reset\", string>;\n\nexport const getRepos = async (): Promise<IGistRepo[]> => {\n    const token = localStorage.getItem(LSK.token);\n\n    const res = await fetch(apiUrl, {\n        method: \"GET\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        mode: \"cors\",\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n\nexport const enum GistInfo {\n    description = \"https://lrc-maker.github.io\",\n    fileName = \".lrc-maker\",\n    fileContent = \"This file is used to be tracked and identified by https://lrc-maker.github.io\",\n}\n\nexport const createRepo = async (): Promise<IGistRepo> => {\n    const token = localStorage.getItem(LSK.token);\n\n    const res = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        body: JSON.stringify({\n            description: GistInfo.description,\n            public: true,\n            files: {\n                [GistInfo.fileName]: { content: GistInfo.fileContent },\n            },\n        }),\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n\nexport const assignRepo = async (): Promise<IGistRepo> => {\n    const token = localStorage.getItem(LSK.token);\n    const id = localStorage.getItem(LSK.gistId);\n\n    const res = await fetch(`${apiUrl}/${id}`, {\n        method: \"PATCH\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        body: JSON.stringify({\n            description: GistInfo.description,\n            files: {\n                [GistInfo.fileName]: { content: GistInfo.fileContent },\n            },\n        }),\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n\nexport const getFils = async (): Promise<IGistRepo | null> => {\n    const token = localStorage.getItem(LSK.token);\n    const id = localStorage.getItem(LSK.gistId);\n    const etag = localStorage.getItem(LSK.gistEtag)!;\n\n    const res = await fetch(`${apiUrl}/${id}`, {\n        headers: {\n            \"Authorization\": `token ${token}`,\n            \"If-None-Match\": etag,\n        },\n    });\n    if (!res.ok) {\n        if (res.status >= 400) {\n            throw await res.json();\n        }\n    }\n    localStorage.setItem(LSK.gistEtag, res.headers.get(\"etag\")!);\n    const ratelimit: Ratelimit = {\n        \"x-ratelimit-limit\": res.headers.get(\"x-ratelimit-limit\")!,\n        \"x-ratelimit-remaining\": res.headers.get(\"x-ratelimit-remaining\")!,\n        \"x-ratelimit-reset\": res.headers.get(\"x-ratelimit-reset\")!,\n    };\n    sessionStorage.setItem(SSK.ratelimit, JSON.stringify(ratelimit));\n    return res.status === 200 ? res.json() : null;\n};\n\nexport const createFile = async (fileName: string, content: string): Promise<IGistRepo> => {\n    const token = localStorage.getItem(LSK.token);\n    const id = localStorage.getItem(LSK.gistId);\n\n    const res = await fetch(`${apiUrl}/${id}`, {\n        method: \"PATCH\",\n        headers: {\n            Authorization: `token ${token}`,\n        },\n        body: JSON.stringify({\n            files: {\n                [fileName]: { content },\n            },\n        }),\n    });\n\n    if (!res.ok) {\n        throw new Error(res.statusText);\n    }\n    return res.json();\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","export const info: {\n    languages: { [name: string]: string };\n} = JSON.parse(document.getElementById(\"app-info\")!.textContent!);\n\nexport const themeColor = {\n    orange: \"#ff691f\",\n    yellow: \"#fab81e\",\n    lime: \"#7fdbb6\",\n    green: \"#19cf86\",\n    blue: \"#91d2fa\",\n    navy: \"#1b95e0\",\n    grey: \"#abb8c2\",\n    red: \"#e81c4f\",\n    pink: \"#f58ea8\",\n    purple: \"#c877fe\",\n};\n\nconst initState = {\n    lang: \"en-US\",\n    spaceStart: 1,\n    spaceEnd: 0,\n    fixed: 3 as Fixed,\n    builtInAudio: false,\n    screenButton: false,\n    themeColor: themeColor.pink,\n};\n\nexport type State = Readonly<typeof initState>;\n\nexport type Action = { [key in keyof State]: { type: key; payload: State[key] } }[keyof State];\n\nconst reducer = (state: State, action: Action): State => {\n    return {\n        ...state,\n        [action.type]: action.payload,\n    };\n};\n\nconst init = (lazyInit: () => string): State => {\n    const state: Mutable<State> = initState;\n\n    const languages = navigator.languages || [navigator.language || \"en-US\"];\n\n    state.lang =\n        languages\n            .map((langCode) => {\n                if (langCode === \"zh\") {\n                    return \"zh-CN\";\n                }\n                if (langCode.startsWith(\"en\")) {\n                    return \"en-US\";\n                }\n                return langCode;\n            })\n            .find((langCode) => langCode in info.languages) || \"en-US\";\n\n    try {\n        const storedState: State = JSON.parse(lazyInit());\n        const validKeys = Object.keys(initState) as Array<keyof State>;\n        for (const key of validKeys) {\n            if (key in storedState) {\n                (state[key] as unknown) = storedState[key];\n            }\n        }\n    } catch (error) {\n        //\n    }\n    return state;\n};\n\nexport const usePref = (lazyInit: () => string) => React.useReducer(reducer, lazyInit, init);\n","export const createPubSub = <DT, ID = unknown>() => {\n    type CB = (data: DT) => any;\n    const bus = new Map<ID, CB>();\n\n    const pub = (data: DT) => {\n        bus.forEach((cb: CB) => cb(data));\n    };\n    const sub = (id: ID, cb: CB) => {\n        bus.set(id, cb);\n\n        return () => {\n            bus.delete(id);\n        };\n    };\n\n    return { pub, sub };\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","import { parser, State as LrcState, TrimOptios } from \"../lrc-parser.js\";\n\ntype InitArgs = Readonly<{\n    text: string;\n    options: TrimOptios;\n    select: number;\n}>;\n\nexport const enum ActionType {\n    parse,\n    refresh,\n    sync,\n    info,\n    select,\n    deleteTime,\n    getState,\n}\n\nexport interface IState extends LrcState {\n    readonly currentTime: number;\n    readonly currentIndex: number;\n    readonly nextTime: number;\n    readonly nextIndex: number;\n    readonly selectIndex: number;\n}\n\ntype Map_Type_Payload<T, U> = { [key in keyof T]: U extends key ? { type: key; payload: T[key] } : never }[keyof T];\n\nexport type Action = Map_Type_Payload<\n    {\n        [ActionType.parse]: { text: string; options: TrimOptios };\n        [ActionType.refresh]: number;\n        [ActionType.sync]: number;\n        [ActionType.info]: { name: string; value: string };\n        [ActionType.select]: (index: number) => number;\n        [ActionType.deleteTime]: undefined;\n        [ActionType.getState]: (state: IState) => void;\n    },\n    ActionType\n>;\n\nexport const guard = (value: number, min: number, max: number) => {\n    if (value < min) {\n        return min;\n    }\n    if (value > max) {\n        return max;\n    }\n    return value;\n};\n\nconst mergeObject = <T extends O, O>(target: T, obj: O): T => {\n    for (const i in obj) {\n        if (target[i] !== obj[i]) {\n            return { ...target, ...obj };\n        }\n    }\n\n    return target;\n};\n\nconst reducer = (state: IState, action: Action): IState => {\n    switch (action.type) {\n        case ActionType.parse: {\n            const { text, options } = action.payload;\n            const lrc = parser(text, options);\n            const selectIndex = guard(state.selectIndex, 0, lrc.lyric.length - 1);\n            return { ...state, ...lrc, selectIndex };\n        }\n\n        case ActionType.refresh: {\n            const audioTime = action.payload;\n            if (audioTime >= state.currentTime && audioTime < state.nextTime) {\n                return state;\n            }\n\n            const record = state.lyric.reduce(\n                (p, c, i) => {\n                    if (c.time) {\n                        if (c.time < p.nextTime && c.time > audioTime) {\n                            p.nextTime = c.time;\n                            p.nextIndex = i;\n                        }\n                        if (c.time > p.currentTime && c.time <= audioTime) {\n                            p.currentTime = c.time;\n                            p.currentIndex = i;\n                        }\n                    }\n                    return p;\n                },\n                {\n                    currentTime: -Infinity,\n                    currentIndex: -Infinity,\n                    nextTime: Infinity,\n                    nextIndex: Infinity,\n                },\n            );\n\n            return mergeObject(state, record);\n        }\n\n        case ActionType.sync: {\n            const time = action.payload;\n            const index = state.selectIndex;\n\n            let lyric = state.lyric;\n            if (lyric[index].time !== time) {\n                const newLyric = lyric.slice();\n                newLyric[index] = { text: lyric[index].text, time };\n                lyric = newLyric;\n            }\n\n            const selectIndex = guard(index + 1, 0, lyric.length - 1);\n\n            return { ...state, lyric, selectIndex, currentTime: time, nextTime: -Infinity };\n        }\n\n        case ActionType.info: {\n            const { name, value } = action.payload;\n\n            const info = new Map(state.info);\n            if (value.trim() === \"\") {\n                info.delete(name);\n            } else {\n                info.set(name, value.trim());\n            }\n\n            return {\n                ...state,\n                info,\n            };\n        }\n\n        case ActionType.select: {\n            const selectIndex = guard(action.payload(state.selectIndex), 0, state.lyric.length - 1);\n            return state.selectIndex === selectIndex ? state : { ...state, selectIndex };\n        }\n\n        case ActionType.deleteTime: {\n            const { selectIndex, currentIndex } = state;\n\n            let lyric = state.lyric;\n            if (lyric[selectIndex].time !== undefined) {\n                const newLyric = lyric.slice();\n                newLyric[selectIndex] = { text: lyric[selectIndex].text };\n                lyric = newLyric;\n\n                let { currentTime, nextTime } = state;\n                if (selectIndex === currentIndex) {\n                    currentTime = Infinity;\n                    nextTime = -Infinity;\n                }\n\n                return {\n                    ...state,\n                    lyric,\n                    currentTime,\n                    nextTime,\n                };\n            }\n\n            return state;\n        }\n\n        case ActionType.getState: {\n            action.payload(state);\n            return state;\n        }\n    }\n\n    return state;\n};\n\nconst init = (lazyInit: () => InitArgs): IState => {\n    const { text, options, select } = lazyInit();\n    return {\n        ...parser(text, options),\n        currentTime: Infinity,\n        currentIndex: Infinity,\n        nextTime: -Infinity,\n        nextIndex: -Infinity,\n        selectIndex: select,\n    };\n};\n\nexport const useLrc = (lazyInit: () => InitArgs) => React.useReducer(reducer, lazyInit, init);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","module.exports = {};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar bind = require('../internals/bind-context');\n\nvar call = Function.call;\n\nmodule.exports = function (CONSTRUCTOR, METHOD, length) {\n  return bind(call, global[CONSTRUCTOR].prototype[METHOD], length);\n};\n","export const language = {\n    languageName: \"English\",\n\n    app: {\n        name: \"LRC Maker\",\n        fullname: \"Akari's LRC Maker\",\n    },\n\n    header: {\n        home: \"home\",\n        editor: \"editor\",\n        synchronizer: \"synchronizer\",\n        gist: \"Githu Gist\",\n        preferences: \"preferences\",\n    },\n\n    audio: {\n        loadAudio: \"load audio\",\n        play: \"play\",\n        pause: \"pause\",\n        replay5s: \"replay 5s\",\n        forward5s: \"forward 5s\",\n        resetRate: \"reset playback rate\",\n        error: [\n            \"audio error\",\n            \"audio aborted by user\",\n            \"audio network error\",\n            \"audio decoding error\",\n            \"audio not supported\",\n        ],\n    },\n\n    loadAudio: {\n        file: \"File\",\n        url: \"URL\",\n        loadFile: \"Click here or drop audio file in this page\",\n    },\n\n    home: {\n        tips: \"Tips\",\n        tipForLyricText: \"Navigate to the editor page and paste lyric text.\",\n        tipForUploadAudio: \"Click the bottom left button to load audio file.\",\n        tipForSynchronizer: \"Navigate to synchronizer page and make your lrc :)\",\n        tipTopLeft: \"Click here come back to this page\",\n        tipTopRight: \"Click here to navigate to other page\",\n        tipBottomLeft: \"load audio here, and control the audio\",\n        tipBottomRight: \"change the playback rate here\",\n    },\n\n    editor: {\n        metaInfo: \"meta info\",\n        album: \"album\",\n        title: \"title\",\n        artist: \"artist\",\n        uploadText: \"upload text\",\n        copyText: \"select all and copy\",\n        downloadText: \"download\",\n        saveToGist: \"save to Github Gist\",\n        saveFileName: \"Filename\",\n        utils: \"lrc utils\",\n    },\n\n    gist: {\n        newTokenTip: \"LRC Maker use Github Token to fetch and store data to Github Gist\",\n        newTokenButton: \"Generate a new Github Token\",\n        newGistTip: \"Create a new Gist repository or assign an existing Gist id\",\n        newGistRepoButton: \"Create a new Gist Repository\",\n        gistIdPlaceholder: \"Or assign an existing Gist id\",\n        info: \"info\",\n        clearTokenAndGist: \"Clear token and Gist id\",\n    },\n\n    preferences: {\n        version: \"Version\",\n        commitHash: \"Commit hash\",\n        updateTime: \"Update time\",\n        repo: \"Repository\",\n        help: \"Help & tips\",\n        language: \"Language\",\n        builtInAudio: \"Use browser built-in audio player\",\n        spaceButton: \"On-screen space key\",\n        themeColor: \"Theme color\",\n        lrcFormat: \"LRC formtat adjust\",\n        fixed: \"Timestamp fixed\",\n        leftSpace: \"Left space\",\n        rightSpace: \"Right space\",\n        clearCache: \"Clear caches\",\n    },\n\n    notify: {\n        audioLoaded: \"Audio loaded.\",\n    },\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('../internals/to-length');\nvar repeat = require('../internals/string-repeat');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar ceil = Math.ceil;\n\n// `String.prototype.{ padStart, padEnd }` methods implementation\nvar createMethod = function (IS_END) {\n  return function ($this, maxLength, fillString) {\n    var S = String(requireObjectCoercible($this));\n    var stringLength = S.length;\n    var fillStr = fillString === undefined ? ' ' : String(fillString);\n    var intMaxLength = toLength(maxLength);\n    var fillLen, stringFiller;\n    if (intMaxLength <= stringLength || fillStr == '') return S;\n    fillLen = intMaxLength - stringLength;\n    stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));\n    if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n    return IS_END ? S + stringFiller : stringFiller + S;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.padStart` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n  start: createMethod(false),\n  // `String.prototype.padEnd` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.padend\n  end: createMethod(true)\n};\n","// https://github.com/zloirock/core-js/issues/280\nvar userAgent = require('../internals/user-agent');\n\n// eslint-disable-next-line unicorn/no-unsafe-regex\nmodule.exports = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n","// tslint:disable: no-implicit-dependencies no-submodule-imports\nimport \"core-js/es/array/includes\";\nimport \"core-js/es/object/entries\";\nimport \"core-js/es/object/values\";\nimport \"core-js/es/string/pad-end\";\nimport \"core-js/es/string/pad-start\";\n\n//\n","require('../../modules/es.array.includes');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('Array', 'includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","module.exports = false;\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","require('../../modules/es.object.entries');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.entries;\n","var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.github.io/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n","require('../../modules/es.object.values');\nvar path = require('../../internals/path');\n\nmodule.exports = path.Object.values;\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","require('../../modules/es.string.pad-end');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'padEnd');\n","'use strict';\nvar $ = require('../internals/export');\nvar $padEnd = require('../internals/string-pad').end;\nvar WEBKIT_BUG = require('../internals/webkit-string-pad-bug');\n\n// `String.prototype.padEnd` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padend\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.github.io/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","require('../../modules/es.string.pad-start');\nvar entryUnbind = require('../../internals/entry-unbind');\n\nmodule.exports = entryUnbind('String', 'padStart');\n","'use strict';\nvar $ = require('../internals/export');\nvar $padStart = require('../internals/string-pad').start;\nvar WEBKIT_BUG = require('../internals/webkit-string-pad-bug');\n\n// `String.prototype.padStart` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.padstart\n$({ target: 'String', proto: true, forced: WEBKIT_BUG }, {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","const details = document.createElement(\"details\");\n\nconst polyfilldetails = () => {\n    const prototype = details.constructor.prototype;\n    const open = Object.getOwnPropertyDescriptor(prototype, \"open\");\n\n    Object.defineProperties(prototype, {\n        open: {\n            get() {\n                if (this.tagName === \"DETAILS\") {\n                    return this.hasAttribute(\"open\");\n                } else {\n                    return open?.get?.call(this);\n                }\n            },\n            set(value) {\n                if (this.tagName === \"DETAILS\") {\n                    if (value !== this.hasAttribute(\"open\")) {\n                        const event = document.createEvent(\"Event\");\n                        event.initEvent(\"toggle\", false, false);\n                        this.dispatchEvent(event);\n                    }\n                    return value ? this.setAttribute(\"open\", \"\") : this.removeAttribute(\"open\");\n                } else {\n                    return open?.set?.call(this, value);\n                }\n            },\n        },\n    });\n\n    document.addEventListener(\"click\", (event) => {\n        const element = event.target as Element;\n        const summary = element.closest(\"summary\");\n        if (summary === null || summary.parentElement === null || summary.parentElement.tagName !== \"DETAILS\") {\n            return;\n        }\n\n        const parentElement = summary.parentElement as HTMLDetailsElement;\n        parentElement.open = !parentElement.open;\n    });\n};\n\nif (!(\"open\" in details)) {\n    polyfilldetails();\n}\n","var map = {\n\t\"./en-US.js\": 29,\n\t\"./ja.js\": 86,\n\t\"./zh-CN.js\": 87,\n\t\"./zh-HK.js\": 88,\n\t\"./zh-TW.js\": 89\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(__webpack_require__);\n}\nfunction webpackAsyncContextResolve(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 85;\nmodule.exports = webpackAsyncContext;","export const language = {\n    languageName: \"日本語\",\n\n    app: {\n        name: \"歌詞スクロールちゃん\",\n        fullname: \"あかりの歌詞スクロールちゃん\",\n    },\n\n    header: {\n        home: \"ホームページ\",\n        editor: \"編集\",\n        synchronizer: \"同期\",\n        gist: \"Githu Gist\",\n        preferences: \"設定\",\n    },\n\n    audio: {\n        loadAudio: \"オーディオファイルを読み込む\",\n        play: \"再生\",\n        pause: \"停止\",\n        replay5s: \"5秒戻る\",\n        forward5s: \"5秒進む\",\n        resetRate: \"再生速度をリセット\",\n        error: [\n            \"オーディオエラー\",\n            \"オーディオダウンロードエラー\",\n            \"オーディオネットワークエラー\",\n            \"オーディオデコードエラー\",\n            \"ブラウザでサポートされていないオーディオ\",\n        ],\n    },\n\n    loadAudio: {\n        file: \"ファイル\",\n        url: \"URL\",\n        loadFile: \"ここをクリックするか、このページにオーディオファイルをドロップしてください\",\n    },\n\n    home: {\n        tips: \"プロンプト\",\n        tipForLyricText: \"編集ページに切り替えて歌詞のテキストを貼り付けます。\",\n        tipForUploadAudio: \"左下のボタンをクリックしてオーディオファイルをロードします。\",\n        tipForSynchronizer: \"同期ページに切り替えてスクロール歌詞を作り始めます〜\",\n        tipTopLeft: \"このヘルプページに戻るにはここをクリック\",\n        tipTopRight: \"ページを切り替えるにはここをクリック\",\n        tipBottomLeft: \"ここでオーディオをロードして再生を制御できます。\",\n        tipBottomRight: \"ここでは再生速度を変更できます\",\n    },\n\n    editor: {\n        metaInfo: \"メタ情報\",\n        album: \"アルバム\",\n        title: \"曲名\",\n        artist: \"アーティスト名\",\n        uploadText: \"テキストを読み込む\",\n        copyText: \"すべて選択してコピー\",\n        downloadText: \"ダウンロード\",\n        saveToGist: \"Github Gistに保存\",\n        saveFileName: \"ファイル名\",\n        utils: \"lrc utils\",\n    },\n\n    gist: {\n        newTokenTip: \"歌詞スクロールちゃんはGithub Gistにデータを取得して保存するためにGithubトークンを使用します\",\n        newTokenButton: \"新しいGithubトークンを生成する\",\n        newGistTip: \"新しいGistリポジトリを作成するか、既存のGist IDを割り当てます\",\n        newGistRepoButton: \"新しいGistリポジトリを作成する\",\n        gistIdPlaceholder: \"または既存のGist IDを割り当てる\",\n        info: \"情報\",\n        clearTokenAndGist: \"クリアトークンとGIST ID\",\n    },\n\n    preferences: {\n        version: \"バージョン\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新時間\",\n        repo: \"プロジェクトURL\",\n        help: \"について＆ヘルプ\",\n        language: \"言語\",\n        builtInAudio: \"ブラウザ内蔵のオーディオプレーヤーを使用する\",\n        spaceButton: \"画面上のスペースキー\",\n        themeColor: \"テーマカラー\",\n        lrcFormat: \"歌詞出力フォーマット制御\",\n        fixed: \"タイムスタンプ小数点\",\n        leftSpace: \"左側のスペース\",\n        rightSpace: \"右側スペース\",\n        clearCache: \"キャッシュをクリア\",\n    },\n\n    notify: {\n        audioLoaded: \"オーディオがロードされました\",\n    },\n};\n","export const language = {\n    languageName: \"简体中文\",\n\n    app: {\n        name: \"歌词滚动姬\",\n        fullname: \"灯里的歌词滚动姬\",\n    },\n\n    header: {\n        home: \"主页\",\n        editor: \"编辑\",\n        synchronizer: \"打轴\",\n        gist: \"Githu Gist\",\n        preferences: \"设置\",\n    },\n\n    audio: {\n        loadAudio: \"加载音频\",\n        play: \"播放\",\n        pause: \"暂停\",\n        replay5s: \"后退 5 秒\",\n        forward5s: \"前进 5 秒\",\n        resetRate: \"重置播放速度\",\n        error: [\"音频错误\", \"音频请求被用户终止\", \"音频网络请求错误\", \"音频解码错误\", \"浏览器无法支持此音频格式\"],\n    },\n\n    loadAudio: {\n        file: \"文件\",\n        url: \"外链\",\n        loadFile: \"点击这里或直接拖放音频到这个页面\",\n    },\n\n    home: {\n        tips: \"提示\",\n        tipForLyricText: \"切换到编辑页面，粘贴歌词文本。\",\n        tipForUploadAudio: \"点击左下方按钮，载入音频文件。\",\n        tipForSynchronizer: \"切换到打轴页面，开始制作滚动歌词吧～\",\n        tipTopLeft: \"点击这里可以回到这个帮助页面\",\n        tipTopRight: \"点击这里切换页面\",\n        tipBottomLeft: \"这里可以加载音频，控制播放\",\n        tipBottomRight: \"这里可以调节播放速度\",\n    },\n\n    editor: {\n        metaInfo: \"元信息\",\n        album: \"所属专辑\",\n        title: \"歌曲名\",\n        artist: \"艺人名\",\n        uploadText: \"加载文本\",\n        copyText: \"全选复制\",\n        downloadText: \"下载\",\n        saveToGist: \"保存到 Github Gist\",\n        saveFileName: \"文件名\",\n        utils: \"实用工具\",\n    },\n\n    gist: {\n        newTokenTip: \"歌词滚动姬使用 Github Token 来存取 Github Gist 上的数据\",\n        newTokenButton: \"生成新的 Github Token\",\n        newGistTip: \"创建一个新的 Gist 仓库或指定一个已存在的 Gist id\",\n        newGistRepoButton: \"创建一个新的 Gist 仓库\",\n        gistIdPlaceholder: \"或指定一个已存在的 Gist id\",\n        info: \"信息\",\n        clearTokenAndGist: \"清除 Github Token 和 Gist id\",\n    },\n\n    preferences: {\n        version: \"版本\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新时间\",\n        repo: \"项目地址\",\n        help: \"关于 & 帮助\",\n        language: \"语言\",\n        builtInAudio: \"使用浏览器内建音频播放器\",\n        spaceButton: \"启用虚拟空格键\",\n        themeColor: \"主题颜色\",\n        lrcFormat: \"歌词输出格式控制\",\n        fixed: \"时间标签小数点\",\n        leftSpace: \"左侧空格\",\n        rightSpace: \"右侧空格\",\n        clearCache: \"清除缓存\",\n    },\n\n    notify: {\n        audioLoaded: \"音频已载入\",\n    },\n};\n","export const language = {\n    languageName: \"繁體中文(香港)\",\n\n    app: {\n        name: \"歌詞滾動姬\",\n        fullname: \"小明的歌詞滾動姬\",\n    },\n\n    header: {\n        home: \"主頁\",\n        editor: \"編輯\",\n        synchronizer: \"同步\",\n        gist: \"Githu Gist\",\n        preferences: \"設定\",\n    },\n\n    audio: {\n        loadAudio: \"匯入音訊\",\n        play: \"播放\",\n        pause: \"暫停\",\n        replay5s: \"倒轉 5s\",\n        forward5s: \"快轉 5s\",\n        resetRate: \"重設播放速度\",\n        error: [\"音訊錯誤\", \"音訊請求被用戶終止\", \"音訊網絡請求錯誤\", \"音訊解碼錯誤\", \"瀏覽器無法支援此音訊格式\"],\n    },\n\n    loadAudio: {\n        file: \"檔案\",\n        url: \"URL\",\n        loadFile: \"點選這裏或直接拖放音訊檔案到這個頁面\",\n    },\n\n    home: {\n        tips: \"提示\",\n        tipForLyricText: \"切換到編輯頁面，黏貼歌詞文本。\",\n        tipForUploadAudio: \"點選左下方按鈕，匯入音訊檔案。\",\n        tipForSynchronizer: \"切換到同步頁面，開始製作滾動歌詞吧～\",\n        tipTopLeft: \"點選這裏可以回到這個幫助頁面\",\n        tipTopRight: \"點選這裏切換頁面\",\n        tipBottomLeft: \"這裏可以加載音訊，控制播放\",\n        tipBottomRight: \"這裏可以調節播放速度\",\n    },\n\n    editor: {\n        metaInfo: \"元數據\",\n        album: \"所屬專輯\",\n        title: \"歌曲名\",\n        artist: \"藝人名\",\n        uploadText: \"匯入文本\",\n        copyText: \"全選拷貝\",\n        downloadText: \"下載\",\n        saveToGist: \"保存到 Github Gist\",\n        saveFileName: \"檔名\",\n        utils: \"實用工具\",\n    },\n\n    gist: {\n        newTokenTip: \"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據\",\n        newTokenButton: \"生成新的 Github Token\",\n        newGistTip: \"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id\",\n        newGistRepoButton: \"創建一個新的 Gist 儲存庫\",\n        gistIdPlaceholder: \"或指定一個已存在的 Gist id\",\n        info: \"資訊\",\n        clearTokenAndGist: \"清除 Github Token 和 Gist id\",\n    },\n\n    preferences: {\n        version: \"版本\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新時間\",\n        repo: \"專案地址\",\n        help: \"關於 & 幫助\",\n        language: \"語言\",\n        builtInAudio: \"使用瀏覽器內建音訊播放器\",\n        spaceButton: \"啓用螢幕 Space 鍵\",\n        themeColor: \"主題顏色\",\n        lrcFormat: \"歌詞輸出格式控制\",\n        fixed: \"時間標籤小數點\",\n        leftSpace: \"左側空格\",\n        rightSpace: \"右側空格\",\n        clearCache: \"清除快取\",\n    },\n\n    notify: {\n        audioLoaded: \"音訊已匯入\",\n    },\n};\n","export const language = {\n    languageName: \"繁體中文\",\n\n    app: {\n        name: \"歌詞滾動姬\",\n        fullname: \"小明的歌詞滾動姬\",\n    },\n\n    header: {\n        home: \"主頁\",\n        editor: \"編輯\",\n        synchronizer: \"同步\",\n        gist: \"Githu Gist\",\n        preferences: \"設定\",\n    },\n\n    audio: {\n        loadAudio: \"匯入音訊\",\n        play: \"播放\",\n        pause: \"暫停\",\n        replay5s: \"倒轉 5s\",\n        forward5s: \"快轉 5s\",\n        resetRate: \"重設播放速度\",\n        error: [\"音訊錯誤\", \"音訊請求被用戶終止\", \"音訊網路請求錯誤\", \"音訊解碼錯誤\", \"瀏覽器無法支援此音訊格式\"],\n    },\n\n    loadAudio: {\n        file: \"檔案\",\n        url: \"URL\",\n        loadFile: \"點選這裡或直接拖放音訊檔案到這個頁面\",\n    },\n\n    home: {\n        tips: \"提示\",\n        tipForLyricText: \"切換到編輯頁面，黏貼歌詞文本。\",\n        tipForUploadAudio: \"點選左下方按鈕，匯入音訊檔案。\",\n        tipForSynchronizer: \"切換到同步頁面，開始製作滾動歌詞吧～\",\n        tipTopLeft: \"點選這裡可以回到這個幫助頁面\",\n        tipTopRight: \"點選這裡切換頁面\",\n        tipBottomLeft: \"這裡可以加載音訊，控制播放\",\n        tipBottomRight: \"這裡可以調節播放速度\",\n    },\n\n    editor: {\n        metaInfo: \"元數據\",\n        album: \"所屬專輯\",\n        title: \"歌曲名\",\n        artist: \"藝人名\",\n        uploadText: \"匯入文本\",\n        copyText: \"全選拷貝\",\n        downloadText: \"下載\",\n        saveToGist: \"保存到 Github Gist\",\n        saveFileName: \"檔名\",\n        utils: \"實用工具\",\n    },\n\n    gist: {\n        newTokenTip: \"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據\",\n        newTokenButton: \"生成新的 Github Token\",\n        newGistTip: \"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id\",\n        newGistRepoButton: \"創建一個新的 Gist 儲存庫\",\n        gistIdPlaceholder: \"或指定一個已存在的 Gist id\",\n        info: \"資訊\",\n        clearTokenAndGist: \"清除 Github Token 和 Gist id\",\n    },\n\n    preferences: {\n        version: \"版本\",\n        commitHash: \"Commit hash\",\n        updateTime: \"更新時間\",\n        repo: \"專案地址\",\n        help: \"關於 & 幫助\",\n        language: \"語言\",\n        builtInAudio: \"使用瀏覽器內建音訊播放器\",\n        spaceButton: \"啓用螢幕 Space 鍵\",\n        themeColor: \"主題顏色\",\n        lrcFormat: \"歌詞輸出格式控制\",\n        fixed: \"時間標籤小數點\",\n        leftSpace: \"左側空格\",\n        rightSpace: \"右側空格\",\n        clearCache: \"清除快取\",\n    },\n\n    notify: {\n        audioLoaded: \"音訊已匯入\",\n    },\n};\n","import { Action as LrcAction, ActionType as LrcActionType } from \"../hooks/useLrc.js\";\nimport { State as LrcState, stringify } from \"../lrc-parser.js\";\nimport { createFile } from \"../utils/gistapi.js\";\nimport { appContext } from \"./app.context.js\";\nimport { CloudUploadSVG, CopySVG, DownloadSVG, OpenFileSVG, UtilitySVG } from \"./svg.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { useCallback, useContext, useEffect, useMemo, useRef, useState } = React;\n\nconst disableCheck = {\n    autoCapitalize: \"none\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    spellCheck: false,\n};\n\nconst useDefaultValue = (defaultValue: string, ref = useRef<HTMLInputElement & HTMLTextAreaElement>(null)) => {\n    // warning: make sure we always use outter ref or create new one.\n\n    const currentValue = ref.current ? ref.current.value : defaultValue;\n\n    useEffect(() => {\n        ref.current!.value = defaultValue;\n    }, [defaultValue, currentValue]);\n    return { ref, defaultValue };\n};\n\nexport const Eidtor: React.SFC<{\n    lrcState: LrcState;\n    lrcDispatch: React.Dispatch<LrcAction>;\n}> = ({ lrcState, lrcDispatch }) => {\n    const { prefState, lang, trimOptions } = useContext(appContext);\n\n    const parse = useCallback((ev: React.FocusEvent<HTMLTextAreaElement>) => {\n        lrcDispatch({\n            type: LrcActionType.parse,\n            payload: { text: ev.target!.value, options: trimOptions },\n        });\n    }, []);\n\n    const setInfo = useCallback((ev: React.FocusEvent<HTMLInputElement>) => {\n        const { name, value } = ev.target!;\n        lrcDispatch({\n            type: LrcActionType.info,\n            payload: { name, value },\n        });\n    }, []);\n\n    const text = stringify(lrcState, prefState);\n\n    const details = useRef<HTMLDetailsElement>(null);\n\n    const onDetailsToggle = useCallback(() => {\n        sessionStorage.setItem(SSK.editorDetailsOpen, details.current!.open.toString());\n    }, []);\n\n    const detailsOpened = useMemo(() => {\n        return sessionStorage.getItem(SSK.editorDetailsOpen) !== \"false\";\n    }, []);\n\n    const textarea = useRef<any>(null);\n    const [href, setHref] = useState<string | undefined>(undefined);\n\n    const onDownloadClick = useCallback(() => {\n        setHref((url) => {\n            if (url) {\n                URL.revokeObjectURL(url);\n            }\n\n            return URL.createObjectURL(\n                new Blob([textarea.current!.value], {\n                    type: \"text/plain;charset=UTF-8\",\n                }),\n            );\n        });\n    }, []);\n\n    const onTextFileUpload = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        if (ev.target.files === null || ev.target.files.length === 0) {\n            return;\n        }\n\n        const fileReader = new FileReader();\n        fileReader.addEventListener(\"load\", () => {\n            lrcDispatch({\n                type: LrcActionType.parse,\n                payload: { text: fileReader.result as string, options: trimOptions },\n            });\n        });\n        fileReader.readAsText(ev.target.files![0], \"UTF-8\");\n    }, []);\n\n    const onCopyClick = useCallback(() => {\n        textarea.current.select();\n        document.execCommand(\"copy\");\n    }, []);\n\n    const downloadName = useMemo(() => {\n        const list: string[] = [];\n        const lrcInfo = lrcState.info;\n        const filenamify = (name: string) => {\n            return name.replace(/[\\<\\>\\:\\\"\\/\\\\\\|\\?\\*]/g, \"_\").trim();\n        };\n\n        if (lrcInfo.has(\"ti\")) {\n            list.push(filenamify(lrcInfo.get(\"ti\")!));\n        }\n        if (lrcInfo.has(\"ar\")) {\n            list.push(filenamify(lrcInfo.get(\"ar\")!));\n        }\n        if (list.length === 0) {\n            if (lrcInfo.has(\"al\")) {\n                list.push(filenamify(lrcInfo.get(\"al\")!));\n            }\n        }\n        list.push(Date.now().toString());\n\n        return list.join(\" - \") + \".lrc\";\n    }, [lrcState.info]);\n\n    const canSaveToGist = useMemo(() => {\n        return localStorage.getItem(LSK.token) !== null && localStorage.getItem(LSK.gistId) !== null;\n    }, []);\n\n    const onGistSave = useCallback(() => {\n        setTimeout(() => {\n            const name = prompt(lang.editor.saveFileName, downloadName);\n            if (name) {\n                createFile(name, textarea.current!.value).catch((error) => {\n                    toastPubSub.pub({\n                        type: \"warning\",\n                        text: error.message,\n                    });\n                });\n            }\n        }, 500);\n    }, [downloadName, lang]);\n\n    return (\n        <div className=\"app-editor\">\n            <details ref={details} open={detailsOpened} onToggle={onDetailsToggle}>\n                <summary>{lang.editor.metaInfo}</summary>\n                <section className=\"app-editor-infobox\" onBlur={setInfo}>\n                    <label htmlFor=\"info-ti\">[ti:</label>\n                    <input\n                        id=\"info-ti\"\n                        name=\"ti\"\n                        placeholder={lang.editor.title}\n                        {...disableCheck}\n                        {...useDefaultValue(lrcState.info.get(\"ti\") || \"\")}\n                    />\n                    <label htmlFor=\"info-ti\">]</label>\n                    <label htmlFor=\"info-ar\">[ar:</label>\n                    <input\n                        id=\"info-ar\"\n                        name=\"ar\"\n                        placeholder={lang.editor.artist}\n                        {...disableCheck}\n                        {...useDefaultValue(lrcState.info.get(\"ar\") || \"\")}\n                    />\n                    <label htmlFor=\"info-ar\">]</label>\n                    <label htmlFor=\"info-al\">[al:</label>\n                    <input\n                        id=\"info-al\"\n                        name=\"al\"\n                        placeholder={lang.editor.album}\n                        {...disableCheck}\n                        {...useDefaultValue(lrcState.info.get(\"al\") || \"\")}\n                    />\n                    <label htmlFor=\"info-al\">]</label>\n                </section>\n            </details>\n\n            <section className=\"editor-tools\">\n                <label className=\"editor-tools-item ripple\" title={lang.editor.uploadText}>\n                    <input hidden={true} type=\"file\" accept=\"text/*, .txt, .lrc\" onChange={onTextFileUpload} />\n                    <OpenFileSVG />\n                </label>\n                <button className=\"editor-tools-item ripple\" title={lang.editor.copyText} onClick={onCopyClick}>\n                    <CopySVG />\n                </button>\n                <a\n                    className=\"editor-tools-item ripple\"\n                    title={lang.editor.downloadText}\n                    href={href}\n                    onClick={onDownloadClick}\n                    download={downloadName}\n                >\n                    <DownloadSVG />\n                </a>\n\n                <a\n                    title={lang.editor.saveToGist}\n                    href={canSaveToGist ? undefined : Path.gist}\n                    className=\"editor-tools-item ripple\"\n                    onClick={canSaveToGist ? onGistSave : undefined}\n                >\n                    <CloudUploadSVG />\n                </a>\n\n                <a title={lang.editor.utils} href=\"/lrc-utils\" className=\"editor-tools-item ripple\">\n                    <UtilitySVG />\n                </a>\n            </section>\n\n            <textarea\n                className=\"app-textarea\"\n                aria-label=\"lrc input here\"\n                onBlur={parse}\n                {...disableCheck}\n                {...useDefaultValue(text, textarea)}\n            />\n        </div>\n    );\n};\n","import { Action as LrcAction, ActionType as LrcActionType } from \"../hooks/useLrc.js\";\nimport {\n    assignRepo,\n    createRepo,\n    getFils,\n    getRepos,\n    GistInfo,\n    IGistFile,\n    IGistRepo,\n    Ratelimit,\n} from \"../utils/gistapi.js\";\nimport { appContext } from \"./app.context.js\";\nimport { AkariNotFound, AkariOangoLoading } from \"./svg.img.js\";\nimport { EditorSVG, GithubSVG, SynchronizerSVG } from \"./svg.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { useCallback, useContext, useEffect, useMemo, useState } = React;\n\nconst newTokenUrl = \"https://github.com/settings/tokens/new?scopes=gist&description=https://lrc-maker.github.io\";\n\nconst disableCheck = {\n    autoCapitalize: \"none\",\n    autoComplete: \"off\",\n    autoCorrect: \"off\",\n    spellCheck: false,\n};\n\ninterface IGistProps {\n    lrcDispatch: React.Dispatch<LrcAction>;\n    langName: string;\n}\n\nexport const Gist: React.FC<IGistProps> = ({ lrcDispatch, langName }) => {\n    const { lang, trimOptions } = useContext(appContext);\n\n    const [token, setToken] = useState(() => localStorage.getItem(LSK.token));\n    const [gistId, setGistId] = useState(() => localStorage.getItem(LSK.gistId));\n    const [gistIdList, setGistIdList] = useState<string[] | undefined>(undefined);\n    const [fileList, setFileList] = useState<IGistFile[] | null>(() => JSON.parse(localStorage.getItem(LSK.gistFile)!));\n\n    const ratelimit: Ratelimit | null = useMemo(() => {\n        return JSON.parse(sessionStorage.getItem(SSK.ratelimit)!);\n    }, [fileList]);\n\n    const onSubmitToken = useCallback((ev: React.FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n\n        const form = ev.target as HTMLFormElement;\n        const tokenInput = form.elements.namedItem(\"token\")! as HTMLInputElement;\n\n        const value = tokenInput.value;\n\n        localStorage.setItem(LSK.token, value);\n        setToken(value);\n    }, []);\n\n    const onCreateNewGist = useCallback(() => {\n        createRepo()\n            .then((json: IGistRepo) => {\n                localStorage.setItem(LSK.gistId, json.id);\n                setGistId(json.id);\n            })\n            .catch((error) => {\n                toastPubSub.pub({\n                    type: \"warning\",\n                    text: error.message,\n                });\n            });\n    }, []);\n\n    const onSubmitGistId = useCallback((ev: React.FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n\n        const form = ev.target as HTMLFormElement;\n        const gistIdInput = form.elements.namedItem(\"gist-id\")! as HTMLInputElement;\n        const value = gistIdInput.value;\n\n        localStorage.setItem(LSK.gistId, value);\n        setGistId(value);\n\n        assignRepo().catch((error) => {\n            toastPubSub.pub({\n                type: \"warning\",\n                text: error.message,\n            });\n        });\n    }, []);\n\n    useEffect(() => {\n        if (gistId !== null || token === null) {\n            return;\n        }\n\n        if (!(\"HTMLDataListElement\" in window)) {\n            return;\n        }\n\n        getRepos()\n            .then((result) => {\n                setGistIdList(\n                    result\n                        .filter((gist) => {\n                            return gist.description === GistInfo.description && GistInfo.fileName in gist.files;\n                        })\n                        .map(({ id }) => id),\n                );\n            })\n            .catch((error) => {\n                toastPubSub.pub({\n                    type: \"warning\",\n                    text: error.message,\n                });\n            });\n    }, [token, gistId]);\n\n    useEffect(() => {\n        if (gistId === null) {\n            return;\n        }\n\n        getFils()\n            .then((result) => {\n                if (result === null) {\n                    return;\n                }\n\n                const files = Object.values(result.files).filter((file) => file.filename.endsWith(\".lrc\"));\n                localStorage.setItem(\n                    LSK.gistFile,\n                    JSON.stringify(files, [\"filename\", \"content\", \"truncated\", \"raw_url\"]),\n                );\n                setFileList(files);\n            })\n            .catch((error) => {\n                toastPubSub.pub({\n                    type: \"warning\",\n                    text: error.message,\n                });\n            });\n    }, [gistId]);\n\n    const onFileLoad = useCallback((ev: React.MouseEvent<HTMLElement, MouseEvent>) => {\n        const target = ev.target as HTMLElement;\n\n        if (!(\"key\" in target.dataset)) {\n            return;\n        }\n\n        const key = Number.parseInt(target.dataset.key!, 10);\n        const file = fileList![key];\n        if (file.truncated) {\n            fetch(file.raw_url)\n                .then((res) => res.text())\n                .then((text) => {\n                    lrcDispatch({\n                        type: LrcActionType.parse,\n                        payload: { text, options: trimOptions },\n                    });\n                })\n                .catch((error) => {\n                    toastPubSub.pub({\n                        type: \"warning\",\n                        text: error.message,\n                    });\n                });\n        } else {\n            lrcDispatch({\n                type: LrcActionType.parse,\n                payload: { text: file.content, options: trimOptions },\n            });\n        }\n    }, []);\n\n    const onClear = useCallback(() => {\n        setGistId(null);\n        setToken(null);\n    }, []);\n\n    const RateLimit = useMemo(() => {\n        if (ratelimit === null) {\n            return false;\n        }\n\n        const RatelimitReset = new Intl.DateTimeFormat(langName, {\n            year: \"numeric\",\n            month: \"short\",\n            day: \"numeric\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n            second: \"numeric\",\n            hour12: false,\n        }).format(new Date(Number.parseInt(ratelimit[\"x-ratelimit-reset\"], 10) * 1000));\n\n        return (\n            <section className=\"ratelimit\">\n                <p>\n                    {\"ratelimit-limit: \"}\n                    {ratelimit[\"x-ratelimit-limit\"]}\n                </p>\n                <p>\n                    {\"ratelimit-remaining: \"}\n                    {ratelimit[\"x-ratelimit-remaining\"]}\n                </p>\n                <p>\n                    {\"ratelimit-reset: \"}\n                    {RatelimitReset}\n                </p>\n            </section>\n        );\n    }, [ratelimit, langName]);\n\n    const GistDetails: React.FC = useCallback(() => {\n        if (gistId !== null && token !== null) {\n            return (\n                <details className=\"gist-details\">\n                    <summary>{lang.gist.info}</summary>\n                    <section className=\"gist-bar\">\n                        <section className=\"gist-info\">\n                            <p>\n                                {\"Gist id: \"}\n                                <a href={`https://gist.github.com/${gistId}`} target=\"_blank\" className=\"link\">\n                                    {gistId}\n                                </a>\n                            </p>\n                            <button className=\"button\" onClick={onClear}>\n                                {lang.gist.clearTokenAndGist}\n                            </button>\n                        </section>\n                        {RateLimit}\n                    </section>\n                </details>\n            );\n        }\n        return null;\n    }, [gistId, token, RateLimit]);\n\n    const NewToken = useMemo(() => {\n        if (token === null) {\n            return (\n                <section className=\"new-token\">\n                    <GithubSVG />\n                    <p className=\"new-token-tip-text\">{lang.gist.newTokenTip}</p>\n                    <a className=\"new-token-tip button\" target=\"_blank\" href={newTokenUrl}>\n                        {lang.gist.newTokenButton}\n                    </a>\n                    <form className=\"new-token-form\" onSubmit={onSubmitToken}>\n                        <label htmlFor=\"github-token\">Token:</label>\n                        <input\n                            type=\"text\"\n                            className=\"new-token-input\"\n                            id=\"github-token\"\n                            name=\"token\"\n                            key=\"token\"\n                            minLength={40}\n                            maxLength={40}\n                            required={true}\n                            {...disableCheck}\n                        />\n                        <input className=\"new-token-submit button\" type=\"submit\" />\n                    </form>\n                </section>\n            );\n        }\n    }, [token, lang]);\n\n    const NewGistID = useMemo(() => {\n        if (gistId === null) {\n            const option = (id: string) => {\n                return <option key={id} value={id} />;\n            };\n            const gistIdDataList = gistIdList && (\n                <datalist id=\"gist-list\">{gistIdList.map((id) => option(id))};</datalist>\n            );\n\n            return (\n                <section className=\"get-gist-id\">\n                    <GithubSVG />\n                    <p className=\"gist-id-tip-text\">{lang.gist.newGistTip}</p>\n                    <button className=\"create-new-gist button\" onClick={onCreateNewGist}>\n                        {lang.gist.newGistRepoButton}\n                    </button>\n                    <form className=\"gist-id-form\" onSubmit={onSubmitGistId}>\n                        <label htmlFor=\"gist-id\">Gist id:</label>\n                        <input\n                            type=\"text\"\n                            className=\"gist-id-input\"\n                            id=\"gist-id\"\n                            name=\"gist-id\"\n                            key=\"gist-id\"\n                            list=\"gist-list\"\n                            placeholder={lang.gist.gistIdPlaceholder}\n                            required={true}\n                            {...disableCheck}\n                        />\n\n                        <input className=\"button\" type=\"submit\" />\n                        {gistIdDataList}\n                    </form>\n                </section>\n            );\n        }\n    }, [gistId, lang, gistIdList]);\n\n    const FileCardList = useMemo(() => {\n        if (fileList !== null) {\n            const FileCard = (file: IGistFile, index: number) => {\n                return (\n                    <article className=\"file-item\" key={file.raw_url}>\n                        <section className=\"file-content\">{file.content}</section>\n                        <hr />\n                        <section className=\"file-bar\">\n                            <span className=\"file-title\">{file.filename}</span>\n                            <span className=\"file-action\">\n                                <a className=\"file-load\" href={Path.editor} data-key={index}>\n                                    <EditorSVG />\n                                </a>\n                                <a className=\"file-load\" href={Path.synchronizer} data-key={index}>\n                                    <SynchronizerSVG />\n                                </a>\n                            </span>\n                        </section>\n                    </article>\n                );\n            };\n            if (fileList.length === 0) {\n                return (\n                    <section className=\"gist-no-data\">\n                        <AkariNotFound />\n                    </section>\n                );\n            }\n\n            return (\n                <section className=\"file-list\" onClick={onFileLoad}>\n                    {fileList.map(FileCard)}\n                </section>\n            );\n        }\n    }, [fileList]);\n\n    return (\n        <div className=\"gist\">\n            <GistDetails />\n            {NewToken || NewGistID || FileCardList || <GistLoading />}\n        </div>\n    );\n};\n\nconst GistLoading: React.FC = () => {\n    return (\n        <section className=\"gist-loading\">\n            <AkariOangoLoading />\n        </section>\n    );\n};\n","// smooth scroll\n// only for special usage of lrc maker\n\ndeclare global {\n    // tslint:disable-next-line: interface-name\n    interface Window {\n        visualViewport?: {\n            height: number;\n            width: number;\n        };\n    }\n}\n\nexport default (() => {\n    const duration = 468;\n\n    const getNow = performance || Date;\n\n    const ease = (k: number) => {\n        return 0.5 * (1 - Math.cos(Math.PI * k));\n    };\n\n    interface IContext {\n        method: (x: number, y: number) => void;\n        startTime: number;\n        startX: number;\n        startY: number;\n        stopY: number;\n    }\n\n    const rafID = {\n        current: 0,\n    };\n\n    const cancelScroll = () => {\n        cancelAnimationFrame(rafID.current);\n        cleanEventListener();\n    };\n\n    const listenerOptions = {\n        passive: true,\n        once: true,\n    };\n\n    const atachEventListener = () => {\n        window.addEventListener(\"wheel\", cancelScroll, listenerOptions);\n        window.addEventListener(\"touchmove\", cancelScroll, listenerOptions);\n    };\n\n    const cleanEventListener = () => {\n        window.removeEventListener(\"wheel\", cancelScroll);\n        window.removeEventListener(\"touchmove\", cancelScroll);\n    };\n\n    const step = (context: IContext) => {\n        const time = getNow.now();\n        const { startTime, startX, startY, stopY } = context;\n        const elapsed = (time - startTime) / duration;\n\n        if (elapsed >= 1) {\n            context.method(startX, stopY);\n            cleanEventListener();\n            return;\n        }\n\n        // apply easing to elapsed time\n        const value = ease(elapsed);\n\n        const currentY = startY + (stopY - startY) * value;\n\n        context.method(startX, currentY);\n\n        if (currentY !== stopY) {\n            rafID.current = requestAnimationFrame(() => step(context));\n        }\n    };\n\n    const scrollingElement = document.scrollingElement || document.documentElement;\n\n    Element.prototype.scrollIntoView = function() {\n        const { top, bottom } = this.getBoundingClientRect();\n\n        const center = (top + bottom) / 2;\n\n        const viewportHeight = window.visualViewport ? window.visualViewport.height : innerHeight;\n\n        const startX = scrollingElement.scrollLeft;\n        const startY = scrollingElement.scrollTop;\n        const stopY = startY + center - viewportHeight / 2;\n\n        cancelAnimationFrame(rafID.current);\n        atachEventListener();\n\n        step({\n            method: (x: number, y: number) => window.scroll(x, y),\n            startTime: getNow.now(),\n            startX,\n            startY,\n            stopY,\n        });\n    };\n})();\n","import { AudioActionType, audioStatePubSub } from \"../utils/audiomodule.js\";\nimport { CloseSVG } from \"./svg.js\";\n\nconst { useRef, useEffect, useCallback } = React;\n\ninterface ILoadAudioDialogRef extends React.RefObject<HTMLDetailsElement> {\n    open: () => void;\n    close: () => void;\n}\n\n// let supportDialog = (window as any).HTMLDialogElement !== undefined;\n\nexport const loadAudioDialogRef: ILoadAudioDialogRef = {\n    current: null,\n\n    open() {\n        if (this.current === null || this.current.open) {\n            return;\n        }\n        this.current.open = true;\n    },\n\n    close() {\n        if (this.current === null || !this.current.open) {\n            return;\n        }\n        this.current.open = false;\n    },\n};\n\ninterface ILoadAudioOptions {\n    setAudioSrc: (src: string) => void;\n    lang: Language;\n}\n\nexport const LoadAudio: React.FC<ILoadAudioOptions> = ({ setAudioSrc, lang }) => {\n    const self = useRef(Symbol(LoadAudio.name));\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            if (data.type === AudioActionType.getDuration) {\n                loadAudioDialogRef.close();\n            }\n        });\n    }, []);\n\n    const onEscapeKeyDown = useCallback((ev: KeyboardEvent) => {\n        if (ev.code === \"Escape\" || ev.key === \"Escape\") {\n            loadAudioDialogRef.close();\n        }\n    }, []);\n\n    const onToggle = useCallback(() => {\n        if (loadAudioDialogRef.current!.open) {\n            window.addEventListener(\"keydown\", onEscapeKeyDown);\n        } else {\n            window.removeEventListener(\"keydown\", onEscapeKeyDown);\n        }\n    }, []);\n\n    const onSubmit = useCallback((ev: React.FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n\n        const form = ev.target as HTMLFormElement;\n\n        const urlInput = form.elements.namedItem(\"url\")! as HTMLInputElement;\n\n        const url = nec(urlInput.value);\n\n        sessionStorage.setItem(SSK.audioSrc, url);\n        setAudioSrc(url);\n    }, []);\n\n    const onFocus = useCallback((ev: React.FocusEvent<HTMLInputElement>) => {\n        ev.target.select();\n    }, []);\n\n    return ReactDOM.createPortal(\n        // tslint:disable-next-line: jsx-wrap-multiline\n        <details ref={loadAudioDialogRef} className=\"dialog fixed loadaudio-dialog\" onToggle={onToggle}>\n            <summary className=\"dialog-close\">\n                <CloseSVG />\n            </summary>\n            <section className=\"dialog-body loadaudio-body\">\n                <div className=\"loadaudio-tab loadaudio-via-file\">\n                    <input type=\"radio\" name=\"tabgroup\" id=\"tab-file\" defaultChecked={true} />\n                    <label className=\"ripple\" htmlFor=\"tab-file\">\n                        {lang.loadAudio.file}\n                    </label>\n                    <div className=\"loadaudio-content\">\n                        <label className=\"audio-input-tip\" htmlFor=\"audio-input\">\n                            {lang.loadAudio.loadFile}\n                        </label>\n                    </div>\n                </div>\n\n                <div className=\"loadaudio-tab loadaudio-via-url\">\n                    <input type=\"radio\" name=\"tabgroup\" id=\"tab-url\" />\n                    <label className=\"ripple\" htmlFor=\"tab-url\">\n                        {lang.loadAudio.url}\n                    </label>\n                    <div className=\"loadaudio-content\">\n                        <form className=\"audio-input-form\" onSubmit={onSubmit}>\n                            <input\n                                type=\"url\"\n                                name=\"url\"\n                                required={true}\n                                autoCapitalize=\"none\"\n                                autoComplete=\"off\"\n                                autoCorrect=\"off\"\n                                spellCheck={false}\n                                onFocus={onFocus}\n                            />\n                            <input className=\"button\" type=\"submit\" />\n                        </form>\n                    </div>\n                </div>\n            </section>\n        </details>,\n        document.body,\n    );\n};\n\nexport const nec = (url: string) => {\n    if (url.includes(\"music.163.com\")) {\n        const result = url.match(/\\d{4,}/);\n        if (result !== null) {\n            const id = result[0];\n            return `https://music.163.com/song/media/outer/url?id=${id}.mp3`;\n        }\n    }\n    return url;\n};\n","import { appContext } from \"./app.context.js\";\nimport { loadAudioDialogRef } from \"./loadaudio.js\";\nimport { EditorSVG, LoadAudioSVG, SynchronizerSVG } from \"./svg.js\";\n\nconst { useContext } = React;\n\nexport const Home: React.FC = () => {\n    const { lang } = useContext(appContext);\n\n    const onLoadAudioDialogOpen = () => {\n        loadAudioDialogRef.open();\n    };\n\n    return (\n        <div className=\"home\">\n            <p className=\"home-tip home-tip-top-left\">{lang.home.tipTopLeft}</p>\n            <p className=\"home-tip home-tip-top-right\">{lang.home.tipTopRight}</p>\n            <p className=\"home-tip home-tip-bottom-left\">{lang.home.tipBottomLeft}</p>\n            <p className=\"home-tip home-tip-bottom-right\">{lang.home.tipBottomRight}</p>\n            <section className=\"home-tip-section\">\n                <p>{lang.home.tips}</p>\n                <ol>\n                    <li>\n                        <a className=\"home-tip-item\" href={Path.editor}>\n                            <EditorSVG />\n                            <span className=\"home-tip-text\">{lang.home.tipForLyricText}</span>\n                        </a>\n                    </li>\n                    <li>\n                        <span className=\"home-tip-item\" onClick={onLoadAudioDialogOpen}>\n                            <LoadAudioSVG />\n                            <span className=\"home-tip-text\">{lang.home.tipForUploadAudio}</span>\n                        </span>\n                    </li>\n                    <li>\n                        <a className=\"home-tip-item\" href={Path.synchronizer}>\n                            <SynchronizerSVG />\n                            <span className=\"home-tip-text\">{lang.home.tipForSynchronizer}</span>\n                        </a>\n                    </li>\n                </ol>\n            </section>\n        </div>\n    );\n};\n\ndocument.addEventListener(\"keydown\", (ev) => {\n    const { code, key, target } = ev;\n\n    if ([\"text\", \"textarea\", \"url\"].includes((target as any).type as string)) {\n        return;\n    }\n\n    if (key === \"?\" || (code === \"Slash\" && ev.shiftKey)) {\n        location.hash = Path.home;\n    }\n});\n","import { ActionType as LrcActionType, useLrc } from \"../hooks/useLrc.js\";\nimport { convertTimeToTag, stringify } from \"../lrc-parser.js\";\nimport { AudioActionType, audioStatePubSub } from \"../utils/audiomodule.js\";\nimport { appContext, ChangBits } from \"./app.context.js\";\nimport { Home } from \"./home.js\";\nimport { AkariNotFound, AkariOangoLoading } from \"./svg.img.js\";\n\nconst { lazy, useContext, useEffect, useRef, useState } = React;\n\nconst LazyEditor = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./editor.js\").then(({ Eidtor }) => {\n        return { default: Eidtor };\n    }),\n);\n\nconst LazySynchronizer = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./synchronizer.js\").then(({ Synchronizer }) => {\n        return { default: Synchronizer };\n    }),\n);\n\nconst LazyGist = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./gist.js\").then(({ Gist }) => {\n        return { default: Gist };\n    }),\n);\n\nconst LazyPreferences = lazy(() =>\n    import(/* webpackMode: \"eager\" */ \"./preferences.js\").then(({ Preferences }) => {\n        return { default: Preferences };\n    }),\n);\n\nexport const Content: React.FC = () => {\n    const self = useRef(Symbol(Content.name));\n\n    const { prefState, trimOptions } = useContext(appContext, ChangBits.prefState);\n\n    const [path, setPath] = useState(location.hash);\n    useEffect(() => {\n        window.addEventListener(\"hashchange\", () => {\n            setPath(location.hash);\n        });\n    }, []);\n\n    const [lrcState, lrcDispatch] = useLrc(() => {\n        return {\n            text: localStorage.getItem(LSK.lyric) || Const.emptyString,\n            options: trimOptions,\n            select: Number.parseInt(sessionStorage.getItem(SSK.selectIndex)!, 10) || 0,\n        };\n    });\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            if (data.type === AudioActionType.getDuration) {\n                lrcDispatch({\n                    type: LrcActionType.info,\n                    payload: {\n                        name: \"length\",\n                        value: convertTimeToTag(data.payload, prefState.fixed, false),\n                    },\n                });\n            }\n        });\n    }, [prefState.fixed]);\n\n    useEffect(() => {\n        const saveState = () => {\n            lrcDispatch({\n                type: LrcActionType.getState,\n                payload: (lrc) => {\n                    localStorage.setItem(LSK.lyric, stringify(lrc, prefState));\n                    sessionStorage.setItem(SSK.selectIndex, lrc.selectIndex.toString());\n                },\n            });\n\n            localStorage.setItem(LSK.preferences, JSON.stringify(prefState));\n        };\n\n        document.addEventListener(\"visibilitychange\", () => {\n            if (document.hidden) {\n                saveState();\n            }\n        });\n\n        window.addEventListener(\"beforeunload\", () => {\n            saveState();\n        });\n    }, [prefState]);\n\n    useEffect(() => {\n        document.documentElement.addEventListener(\"drop\", (ev) => {\n            const file = ev.dataTransfer!.files[0];\n            if (file && (file.type.startsWith(\"text/\") || /(?:\\.lrc|\\.txt)$/i.test(file.name))) {\n                const fileReader = new FileReader();\n\n                const onload = () => {\n                    lrcDispatch({\n                        type: LrcActionType.parse,\n                        payload: { text: fileReader.result as string, options: trimOptions },\n                    });\n                };\n\n                fileReader.addEventListener(\"load\", onload, {\n                    once: true,\n                });\n\n                location.hash = Path.editor;\n\n                fileReader.readAsText(file, \"utf-8\");\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        const rgb = hex2rgb(prefState.themeColor);\n        document.documentElement.style.setProperty(\"--theme-rgb\", rgb.join(\", \"));\n\n        // https://www.w3.org/TR/WCAG20/#contrast-ratiodef\n        // const contrast = (rgb1, rgb2) => {\n        //   const c1 = luminanace(...rgb1) + 0.05;\n        //   const c2 = luminanace(...rgb2) + 0.05;\n        //   return c1 > c2 ? c1 / c2 : c2 / c1;\n        // };\n\n        // c: color ; b: black; w: white;\n        // if we need black text\n        //\n        // (lum(c) + 0.05) / (l(b) + 0.05) > (l(w) + 0.05) / (lum(c) + 0.05);\n        // => (lum(c) + 0.05)^2 > (l(b) +0.05) * (l(w) + 0.05) = 1.05 * 0.05 = 0.0525\n\n        const lum = luminanace(...rgb);\n        const con = lum + 0.05;\n        const contrastColor = con * con > 0.0525 ? \"var(--black)\" : \"var(--white)\";\n        document.documentElement.style.setProperty(\"--theme-contrast-color\", contrastColor);\n    }, [prefState.themeColor]);\n\n    const content = (() => {\n        switch (path) {\n            case Path.editor: {\n                return <LazyEditor lrcState={lrcState} lrcDispatch={lrcDispatch} />;\n            }\n\n            case Path.synchronizer: {\n                if (lrcState.lyric.length === 0) {\n                    return <AkariNotFound />;\n                }\n                return <LazySynchronizer state={lrcState} dispatch={lrcDispatch} />;\n            }\n\n            case Path.gist: {\n                return <LazyGist lrcDispatch={lrcDispatch} langName={prefState.lang} />;\n            }\n\n            case Path.preferences: {\n                return <LazyPreferences />;\n            }\n        }\n\n        return <Home />;\n    })();\n\n    return (\n        <main className=\"app-main\">\n            <React.Suspense fallback={<AkariOangoLoading />}>{content}</React.Suspense>\n        </main>\n    );\n};\n\n// https://www.w3.org/TR/WCAG20/#relativeluminancedef\nconst luminanace = (...rgb: [number, number, number]) => {\n    return rgb\n        .map((v) => v / 255)\n        .map((v) => (v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4)))\n        .reduce((p, c, i) => {\n            return p + c * [0.2126, 0.7152, 0.0722][i];\n        }, 0);\n};\n\n// tslint:disable: no-bitwise\nconst hex2rgb = (hex: string): [number, number, number] => {\n    hex = hex.slice(1);\n    const value = Number.parseInt(hex, 16);\n    const r = (value >> 0x10) & 0xff;\n    const g = (value >> 0x08) & 0xff;\n    const b = (value >> 0x00) & 0xff;\n    return [r, g, b];\n};\n","import { convertTimeToTag } from \"../lrc-parser.js\";\nimport { AudioActionType, audioRef, AudioState, audioStatePubSub, currentTimePubSub } from \"../utils/audiomodule.js\";\nimport { loadAudioDialogRef } from \"./loadaudio.js\";\nimport { Forward5sSVG, LoadAudioSVG, PauseSVG, PlaySVG, Replay5sSVG } from \"./svg.js\";\n\nconst { useState, useEffect, useRef, useCallback, useMemo } = React;\n\ninterface ISliderProps {\n    min: number;\n    max: number;\n    step?: string | number;\n    value: number;\n    onInput: (event: React.ChangeEvent<HTMLInputElement>) => void;\n    className: string;\n}\n\nconst Slider: React.FC<ISliderProps> = ({ min, max, step, value, onInput, className }) => {\n    const total = max - min || 1;\n    const percent = (value - min) / total;\n\n    return (\n        <div className={`slider ${className}-slider`}>\n            <progress value={percent} />\n            <input\n                type=\"range\"\n                className={className}\n                aria-label={className}\n                min={min}\n                max={max}\n                step={step}\n                value={value}\n                onInput={onInput}\n            />\n        </div>\n    );\n};\n\nconst TimeLine: React.FC<{ duration: number; paused: boolean }> = ({ duration, paused }) => {\n    const self = useRef(Symbol(TimeLine.name));\n    const [currentTime, setCurrentTime] = useState(audioRef.currentTime);\n    const [rate, setRate] = useState(audioRef.playbackRate);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            if (data.type === AudioActionType.rateChange) {\n                setRate(data.payload);\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        if (paused) {\n            // paused but user changing the time\n            return currentTimePubSub.sub(self.current, (data) => {\n                setCurrentTime(data);\n            });\n        } else {\n            const id = setInterval(() => {\n                setCurrentTime(audioRef.currentTime);\n            }, 500 / rate);\n\n            return () => {\n                clearInterval(id);\n            };\n        }\n    }, [paused, rate]);\n\n    const rafId = useRef(0);\n\n    const onInput = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        if (rafId.current) {\n            cancelAnimationFrame(rafId.current);\n        }\n\n        const value = ev.target.value;\n\n        rafId.current = requestAnimationFrame(() => {\n            const time = Number.parseInt(value, 0);\n            setCurrentTime(time);\n            audioRef.currentTime = time;\n        });\n    }, []);\n\n    const durationTimeTag = useMemo(() => {\n        return duration ? \" / \" + convertTimeToTag(duration, 0, false) : false;\n    }, [duration]);\n\n    return (\n        <>\n            <time>\n                {convertTimeToTag(currentTime, 0, false)}\n                {durationTimeTag}\n            </time>\n\n            <Slider min={0} max={duration} step={1} value={currentTime} className=\"timeline\" onInput={onInput} />\n        </>\n    );\n};\n\nconst RateSlider: React.FC<{ lang: Language }> = ({ lang }) => {\n    const self = useRef(Symbol(RateSlider.name));\n\n    const [playbackRate, setPlaybackRate] = useState(audioRef.playbackRate);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data: AudioState) => {\n            if (data.type === AudioActionType.rateChange) {\n                setPlaybackRate(data.payload);\n            }\n        });\n    }, []);\n\n    // playbackRate: [1/e, e]\n    // playbackRateSliderValue: [-1, 1]\n    // playbackRateSliderValue === ln(playbackRate)\n    // playbackRate === exp(playbackRateSliderValue)\n\n    const playbackRateSliderValue = useMemo(() => {\n        return Math.log(playbackRate);\n    }, [playbackRate]);\n\n    const onPlaybackRateChange = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        const value = Math.exp(Number.parseFloat(ev.target.value));\n        setPlaybackRate(value);\n        audioRef.playbackRate = value;\n    }, []);\n\n    const onPlaybackRateReset = useCallback(() => {\n        audioRef.playbackRate = 1;\n    }, []);\n\n    return (\n        <>\n            <button className=\"ripple glow\" title={lang.audio.resetRate} onClick={onPlaybackRateReset}>\n                {\"X \"}\n                {playbackRate.toFixed(2)}\n            </button>\n\n            <Slider\n                className=\"playbackrate\"\n                min={-1}\n                max={1}\n                step=\"any\"\n                value={playbackRateSliderValue}\n                onInput={onPlaybackRateChange}\n            />\n        </>\n    );\n};\n\nexport const LrcAudio: React.FC<{ lang: Language }> = ({ lang }) => {\n    const self = useRef(Symbol(LrcAudio.name));\n\n    const [paused, setPaused] = useState(audioRef.paused);\n\n    const [duration, setDuration] = useState(audioRef.duration);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data: AudioState) => {\n            switch (data.type) {\n                case AudioActionType.getDuration: {\n                    setDuration(data.payload);\n                    setPaused(audioRef.paused);\n                    break;\n                }\n                case AudioActionType.pause: {\n                    setPaused(data.payload);\n                    break;\n                }\n            }\n        });\n    }, []);\n\n    const onReplay5s = useCallback(() => {\n        audioRef.currentTime -= 5;\n    }, []);\n\n    const onForward5s = useCallback(() => {\n        audioRef.currentTime += 5;\n    }, []);\n\n    const onPlayPauseToggle = useCallback(() => {\n        audioRef.toggle();\n    }, []);\n\n    const onLoadAudioButtonClick = useCallback(() => {\n        loadAudioDialogRef.open();\n    }, []);\n\n    return (\n        <section className={\"lrc-audio\" + (paused ? \"\" : \" playing\")}>\n            <button\n                className=\"ripple glow loadaudio-button\"\n                title={lang.audio.loadAudio}\n                onClick={onLoadAudioButtonClick}\n            >\n                <LoadAudioSVG />\n            </button>\n            <button className=\"ripple glow\" title={lang.audio.replay5s} onClick={onReplay5s} disabled={!duration}>\n                <Replay5sSVG />\n            </button>\n            <button\n                className=\"ripple glow\"\n                title={paused ? lang.audio.play : lang.audio.pause}\n                disabled={!duration}\n                onClick={onPlayPauseToggle}\n            >\n                {paused ? <PlaySVG /> : <PauseSVG />}\n            </button>\n            <button className=\"ripple glow\" title={lang.audio.forward5s} onClick={onForward5s} disabled={!duration}>\n                <Forward5sSVG />\n            </button>\n\n            <TimeLine duration={duration} paused={paused} />\n            <RateSlider lang={lang} />\n        </section>\n    );\n};\n","import { AudioActionType, audioRef, audioStatePubSub, currentTimePubSub } from \"../utils/audiomodule.js\";\nimport { appContext, ChangBits } from \"./app.context.js\";\nimport { LrcAudio } from \"./audio.js\";\nimport { LoadAudio, nec } from \"./loadaudio.js\";\nimport { toastPubSub } from \"./toast.js\";\n\nconst { useCallback, useContext, useEffect, useReducer, useRef } = React;\n\nconst accept = [\"audio/*\", \".ncm\", \".qmcflac\", \".qmc0\", \".qmc1\", \".qmc2\", \".qmc3\", \"qmcogg\"].join(\", \");\n\nexport const Footer: React.FC = () => {\n    // tslint:disable-next-line: no-bitwise\n    const { prefState, lang } = useContext(appContext, ChangBits.lang | ChangBits.builtInAudio);\n\n    const [audioSrc, setAudioSrc] = useReducer(\n        (oldSrc: string, newSrc: string) => {\n            URL.revokeObjectURL(oldSrc);\n            return newSrc;\n        },\n        undefined,\n        () => {\n            let src = sessionStorage.getItem(SSK.audioSrc);\n            if (src === null && location.search && URLSearchParams) {\n                const searchParams = new URLSearchParams(location.search);\n                const url = searchParams.get(\"url\");\n                if (url !== null) {\n                    return url;\n                }\n                const text = searchParams.get(\"text\") || searchParams.get(\"title\");\n                const result = /https?:\\/\\/\\S+/.exec(text!);\n                src = result && nec(result[0]);\n            }\n            return src!;\n        },\n    );\n\n    useEffect(() => {\n        document.addEventListener(\"keydown\", (ev) => {\n            const { code, key, target } = ev;\n\n            const codeOrKey = code || key;\n\n            if ([\"text\", \"textarea\", \"url\"].includes((target as any).type as string)) {\n                return;\n            }\n\n            const ac = audioRef.current!;\n\n            if (!ac.src) {\n                return;\n            }\n\n            if (ev.metaKey === true || ev.ctrlKey === true) {\n                if ([\"ArrowUp\", \"KeyJ\", \"Up\", \"J\", \"j\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    const rate = ac.playbackRate;\n                    const newRate = Math.exp(Math.min(Math.log(rate) + 0.2, 1));\n\n                    ac.playbackRate = newRate;\n                } else if ([\"ArrowDown\", \"KeyK\", \"Down\", \"K\", \"k\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    const rate = ac.playbackRate;\n                    const newRate = Math.exp(Math.max(Math.log(rate) - 0.2, -1));\n\n                    ac.playbackRate = newRate;\n                } else if (codeOrKey === \"Enter\") {\n                    ev.preventDefault();\n                    audioRef.toggle();\n                }\n            } else {\n                if ([\"ArrowLeft\", \"KeyA\", \"KeyH\", \"Left\", \"A\", \"a\", \"H\", \"h\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    ac.currentTime -= 5;\n                } else if ([\"ArrowRight\", \"KeyD\", \"KeyL\", \"Right\", \"D\", \"d\", \"L\", \"l\"].includes(codeOrKey)) {\n                    ev.preventDefault();\n\n                    ac.currentTime += 5;\n                } else if (code === \"KeyR\" || key === \"R\" || key === \"r\") {\n                    ev.preventDefault();\n\n                    ac.playbackRate = 1;\n                }\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        document.documentElement.addEventListener(\"drop\", (ev) => {\n            const file = ev.dataTransfer!.files[0];\n            receiveFile(file, setAudioSrc);\n        });\n    }, []);\n\n    const onAudioInputChange = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        const file = ev.target.files![0];\n        receiveFile(file, setAudioSrc);\n    }, []);\n\n    const rafId = useRef(0);\n\n    const onAudioLoadedMetadata = useCallback(() => {\n        cancelAnimationFrame(rafId.current);\n        audioStatePubSub.pub({\n            type: AudioActionType.getDuration,\n            payload: audioRef.duration,\n        });\n        toastPubSub.pub({\n            type: \"success\",\n            text: lang.notify.audioLoaded,\n        });\n    }, [lang]);\n\n    const syncCurrentTime = useCallback(() => {\n        currentTimePubSub.pub(audioRef.currentTime);\n        rafId.current = requestAnimationFrame(syncCurrentTime);\n    }, []);\n\n    const onAudioPlay = useCallback(() => {\n        rafId.current = requestAnimationFrame(syncCurrentTime);\n        audioStatePubSub.pub({\n            type: AudioActionType.pause,\n            payload: false,\n        });\n    }, []);\n\n    const onAudioPause = useCallback(() => {\n        cancelAnimationFrame(rafId.current);\n        audioStatePubSub.pub({\n            type: AudioActionType.pause,\n            payload: true,\n        });\n    }, []);\n\n    const onAudioEnded = useCallback(() => {\n        cancelAnimationFrame(rafId.current);\n        audioStatePubSub.pub({\n            type: AudioActionType.pause,\n            payload: true,\n        });\n    }, []);\n\n    const onAudioTimeUpdate = useCallback(() => {\n        if (audioRef.paused) {\n            currentTimePubSub.pub(audioRef.currentTime);\n        }\n    }, []);\n\n    const onAudioRateChange = useCallback(() => {\n        audioStatePubSub.pub({\n            type: AudioActionType.rateChange,\n            payload: audioRef.playbackRate,\n        });\n    }, []);\n\n    const onAudioError = useCallback(\n        (ev) => {\n            const audio = ev.target as HTMLAudioElement;\n            const error = audio.error as MediaError;\n            const message = lang.audio.error[error.code] || error.message || lang.audio.error[0];\n            toastPubSub.pub({\n                type: \"warning\",\n                text: message,\n            });\n        },\n        [lang],\n    );\n\n    return (\n        <footer className=\"app-footer\">\n            <input id=\"audio-input\" type=\"file\" accept={accept} hidden={true} onChange={onAudioInputChange} />\n            <LoadAudio setAudioSrc={setAudioSrc} lang={lang} />\n            <audio\n                ref={audioRef}\n                src={audioSrc}\n                controls={prefState.builtInAudio}\n                hidden={!prefState.builtInAudio}\n                onLoadedMetadata={onAudioLoadedMetadata}\n                onPlay={onAudioPlay}\n                onPause={onAudioPause}\n                onEnded={onAudioEnded}\n                onTimeUpdate={onAudioTimeUpdate}\n                onRateChange={onAudioRateChange}\n                onError={onAudioError}\n            />\n            {prefState.builtInAudio || <LrcAudio lang={lang} />}\n        </footer>\n    );\n};\n\ntype TsetAudioSrc = (src: string) => void;\n\nconst receiveFile = (file: File, setAudioSrc: TsetAudioSrc) => {\n    sessionStorage.removeItem(SSK.audioSrc);\n\n    if (file) {\n        if (file.type.startsWith(\"audio/\")) {\n            setAudioSrc(URL.createObjectURL(file));\n            return;\n        }\n        if (file.name.endsWith(\".ncm\")) {\n            const worker = new Worker(\"./ncmc-worker.js\");\n            worker.addEventListener(\n                \"message\",\n                (ev) => {\n                    if (ev.data.type === \"url\") {\n                        const dataArray = ev.data.dataArray;\n                        const musicFile = new Blob([dataArray], {\n                            type: detectMimeType(dataArray),\n                        });\n\n                        setAudioSrc(URL.createObjectURL(musicFile));\n                    }\n                    if (ev.data.type === \"error\") {\n                        toastPubSub.pub({\n                            type: \"warning\",\n                            text: ev.data.data,\n                        });\n                    }\n                },\n                { once: true },\n            );\n\n            worker.addEventListener(\n                \"error\",\n                (ev) => {\n                    toastPubSub.pub({\n                        type: \"warning\",\n                        text: ev.message,\n                    });\n                    worker.terminate();\n                },\n                { once: true },\n            );\n\n            worker.postMessage(file);\n\n            return;\n        }\n        if (/\\.qmc(?:flac|0|1|2|3)$/.test(file.name)) {\n            const worker = new Worker(\"./qmc-worker.js\");\n            worker.addEventListener(\n                \"message\",\n                (ev) => {\n                    if (ev.data.type === \"url\") {\n                        const dataArray = ev.data.dataArray;\n                        const musicFile = new Blob([dataArray], {\n                            type: detectMimeType(dataArray),\n                        });\n\n                        setAudioSrc(URL.createObjectURL(musicFile));\n                    }\n                },\n                { once: true },\n            );\n\n            worker.postMessage(file);\n\n            return;\n        }\n    }\n};\n\nconst enum MimeType {\n    fLaC = 0x664c6143,\n    OggS = 0x4f676753,\n    RIFF = 0x52494646,\n    WAVE = 0x57415645,\n}\n\nconst detectMimeType = (dataArray: Uint8Array) => {\n    const magicNumber = new DataView(dataArray.buffer).getUint32(0, false);\n    switch (magicNumber) {\n        case MimeType.fLaC:\n            return \"audio/flac\";\n\n        case MimeType.OggS:\n            return \"audio/ogg\";\n\n        case MimeType.RIFF:\n        case MimeType.WAVE:\n            return \"audio/wav\";\n\n        default:\n            return \"audio/mpeg\";\n    }\n};\n\n// side effect\ndocument.addEventListener(\"visibilitychange\", () => {\n    if (!audioRef.paused) {\n        audioRef.toggle();\n    }\n});\n","import { appContext, ChangBits } from \"./app.context.js\";\nimport { CloudSVG, EditorSVG, HomeSVG, PreferencesSVG, SynchronizerSVG } from \"./svg.js\";\n\nconst { useContext } = React;\n\nexport const Header: React.FC = () => {\n    const { lang } = useContext(appContext, ChangBits.lang);\n\n    return (\n        <header className=\"app-header\">\n            <a id={Path.homeID} className=\"app-title\" title={lang.header.home} href={Path.home}>\n                <span className=\"app-title-text\">{lang.app.name}</span>\n                <span className=\"app-title-svg\">\n                    <HomeSVG />\n                </span>\n            </a>\n            <nav className=\"app-nav\">\n                <a id={Path.editorID} className=\"app-tab\" title={lang.header.editor} href={Path.editor}>\n                    <EditorSVG />\n                </a>\n                <a\n                    id={Path.synchronizerID}\n                    className=\"app-tab\"\n                    title={lang.header.synchronizer}\n                    href={Path.synchronizer}\n                >\n                    <SynchronizerSVG />\n                </a>\n                <a id={Path.gistID} className=\"app-tab\" title={lang.header.gist} href={Path.gist}>\n                    <CloudSVG />\n                </a>\n                <a id={Path.preferencesID} className=\"app-tab\" title={lang.header.preferences} href={Path.preferences}>\n                    <PreferencesSVG />\n                </a>\n            </nav>\n        </header>\n    );\n};\n","import { App } from \"./components/app.js\";\n\nif (\"scrollBehavior\" in document.documentElement.style) {\n    // smooth scroll natively supported\n} else {\n    import(/* webpackMode: \"eager\" */ \"./polyfill/smooth-scroll.js\");\n}\n\nReactDOM.render(React.createElement(App), document.querySelector(\".app-container\"), () => {\n    document.querySelector(\".page-loading\")!.remove();\n    window.addEventListener(\"dragover\", (ev) => {\n        ev.preventDefault();\n        ev.dataTransfer!.dropEffect = \"copy\";\n    });\n    window.addEventListener(\"drop\", (ev) => {\n        ev.preventDefault();\n    });\n});\n","import { AppProvider } from \"./app.context.js\";\nimport { Content } from \"./content.js\";\nimport { Footer } from \"./footer.js\";\nimport { Header } from \"./header.js\";\nimport { Toast } from \"./toast.js\";\n\nexport const App: React.FC = () => {\n    return (\n        <AppProvider>\n            <Header />\n            <Content />\n            <Footer />\n            <Toast />\n        </AppProvider>\n    );\n};\n","import { Action, ActionType } from \"../hooks/useLrc.js\";\nimport { State as PrefState } from \"../hooks/usePref.js\";\nimport { stringify } from \"../lrc-parser.js\";\nimport { DownloadSVG, LockSVG } from \"./svg.js\";\nimport { SyncMode } from \"./synchronizer.js\";\n\nconst { useState, useCallback } = React;\n\nexport const AsidePanel: React.FC<{\n    syncMode: SyncMode;\n    setSyncMode: React.Dispatch<React.SetStateAction<SyncMode>>;\n    lrcDispatch: React.Dispatch<Action>;\n    prefState: PrefState;\n}> = React.memo(({ syncMode, setSyncMode, lrcDispatch, prefState }) => {\n    const [href, setHref] = useState<string>();\n    const [name, setName] = useState<string>();\n\n    const onSyncModeToggle = useCallback(() => {\n        setSyncMode(syncMode === SyncMode.select ? SyncMode.highlight : SyncMode.select);\n    }, [syncMode]);\n\n    const onDownloadClick = useCallback(() => {\n        lrcDispatch({\n            type: ActionType.getState,\n            payload: (state) => {\n                const text = stringify(state, prefState);\n                setHref((url) => {\n                    if (url) {\n                        URL.revokeObjectURL(url);\n                    }\n\n                    return URL.createObjectURL(\n                        new Blob([text], {\n                            type: \"text/plain;charset=UTF-8\",\n                        }),\n                    );\n                });\n\n                const info = state.info;\n                const list = [];\n                if (info.has(\"ti\")) {\n                    list.push(info.get(\"ti\"));\n                }\n                if (info.has(\"ar\")) {\n                    list.push(info.get(\"ar\"));\n                }\n                if (list.length === 0) {\n                    if (info.has(\"al\")) {\n                        list.push(info.get(\"al\"));\n                    }\n                    list.push(new Date().toLocaleString());\n                }\n                setName(list.join(\" - \") + \".lrc\");\n            },\n        });\n    }, [prefState]);\n\n    const mode = syncMode === SyncMode.select ? \"select\" : \"highlight\";\n\n    const className = [\"aside-button\", \"syncmode-button\", \"ripple\", \"glow \", mode].join(Const.space);\n\n    return (\n        <aside className=\"aside-panel\">\n            <button className={className} onClick={onSyncModeToggle} aria-label={`${mode} mode`}>\n                <LockSVG />\n            </button>\n            <a href={href} download={name} className=\"aside-button ripple glow\" onClick={onDownloadClick}>\n                <DownloadSVG />\n            </a>\n        </aside>\n    );\n});\n","import { convertTimeToTag } from \"../lrc-parser.js\";\nimport { AudioActionType, audioRef, audioStatePubSub, currentTimePubSub } from \"../utils/audiomodule.js\";\n\nconst { useState, useEffect, useRef } = React;\n\ninterface ICurserProps {\n    fixed: Fixed;\n}\n\nexport const Curser: React.FC<ICurserProps> = ({ fixed }) => {\n    const self = useRef(Symbol(Curser.name));\n\n    const [time, setTime] = useState(audioRef.currentTime);\n    const [paused, setPaused] = useState(audioRef.paused);\n    const [rate, setRate] = useState(audioRef.playbackRate);\n\n    useEffect(() => {\n        return audioStatePubSub.sub(self.current, (data) => {\n            switch (data.type) {\n                case AudioActionType.pause: {\n                    setPaused(data.payload);\n                    break;\n                }\n                case AudioActionType.rateChange: {\n                    setRate(data.payload);\n                    break;\n                }\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        //\n        // Nyquist–Shannon sampling theorem\n        //\n        // If a function x(t) contains no frequencies higher than B hertz,\n        // it is completely determined by giving its ordinates at a series\n        // of points spaced 1/(2B) seconds apart.\n        //\n\n        const B = [1, 10, 100, 1000][fixed] * rate;\n\n        if (paused || 2 * B > 60 /** 60fps */) {\n            return currentTimePubSub.sub(self.current, (date) => {\n                setTime(date);\n            });\n        } else {\n            const id = setInterval(() => {\n                setTime(audioRef.currentTime);\n            }, 1000 / (2 * B));\n\n            return () => {\n                clearInterval(id);\n            };\n        }\n    }, [fixed, paused, rate]);\n\n    return <time className=\"curser\">{convertTimeToTag(time, fixed)}</time>;\n};\n","import { Action, ActionType, guard, IState } from \"../hooks/useLrc.js\";\nimport { State as PrefState } from \"../hooks/usePref.js\";\nimport { convertTimeToTag, formatText, ILyric } from \"../lrc-parser.js\";\nimport { audioRef, currentTimePubSub } from \"../utils/audiomodule.js\";\nimport { appContext } from \"./app.context.js\";\nimport { AsidePanel } from \"./asidepanel.js\";\nimport { Curser } from \"./curser.js\";\n\nconst { useCallback, useContext, useEffect, useRef, useState } = React;\n\nconst SpaceButton: React.FC<{ sync: () => void }> = ({ sync }) => {\n    return (\n        <button className=\"space_button\" onClick={sync}>\n            space\n        </button>\n    );\n};\n\nexport const enum SyncMode {\n    select,\n    highlight,\n}\n\ninterface ISynchronizerProps {\n    state: IState;\n    dispatch: React.Dispatch<Action>;\n}\n\nexport const Synchronizer: React.FC<ISynchronizerProps> = ({ state, dispatch }) => {\n    const self = useRef(Symbol(Synchronizer.name));\n\n    const { selectIndex, currentIndex: highlightIndex } = state;\n\n    const { prefState, lang } = useContext(appContext);\n\n    useEffect(() => {\n        dispatch({\n            type: ActionType.info,\n            payload: {\n                name: \"tool\",\n                value: `${lang.app.name} https://lrc-maker.github.io`,\n            },\n        });\n    }, [lang]);\n\n    const [syncMode, setSyncMode] = useState(() =>\n        sessionStorage.getItem(SSK.syncMode) === SyncMode.highlight.toString() ? SyncMode.highlight : SyncMode.select,\n    );\n\n    useEffect(() => {\n        sessionStorage.setItem(SSK.syncMode, syncMode.toString());\n    }, [syncMode]);\n\n    const ul = useRef<HTMLUListElement>(null);\n\n    const needScrollLine = {\n        [SyncMode.select]: selectIndex,\n        [SyncMode.highlight]: highlightIndex,\n    }[syncMode];\n\n    useEffect(() => {\n        const line = ul.current!.children[needScrollLine];\n        if (line !== undefined) {\n            line.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"center\",\n                inline: \"center\",\n            });\n        }\n    }, [needScrollLine]);\n\n    useEffect(() => {\n        return currentTimePubSub.sub(self.current, (time) => {\n            dispatch({ type: ActionType.refresh, payload: time });\n        });\n    }, []);\n\n    const sync = useCallback(() => {\n        if (!audioRef.duration) {\n            return;\n        }\n\n        dispatch({\n            type: ActionType.sync,\n            payload: audioRef.currentTime,\n        });\n    }, []);\n\n    useEffect(() => {\n        const listener = (ev: KeyboardEvent) => {\n            const { code, key, target } = ev;\n\n            const codeOrKey = code || key;\n\n            if ([\"text\", \"textarea\", \"url\"].includes((target as any).type as string)) {\n                return;\n            }\n\n            if (codeOrKey === \"Backspace\" || codeOrKey === \"Delete\" || codeOrKey === \"Del\") {\n                ev.preventDefault();\n                dispatch({\n                    type: ActionType.deleteTime,\n                    payload: undefined,\n                });\n                return;\n            }\n\n            if (ev.metaKey === true || ev.ctrlKey === true) {\n                return;\n            }\n\n            if (code === \"Space\" || key === \" \" || key === \"Spacebar\") {\n                ev.preventDefault();\n\n                sync();\n            } else if ([\"ArrowUp\", \"KeyW\", \"KeyJ\", \"Up\", \"W\", \"w\", \"J\", \"j\"].includes(codeOrKey)) {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index - 1 });\n            } else if ([\"ArrowDown\", \"KeyS\", \"KeyK\", \"Down\", \"S\", \"s\", \"K\", \"k\"].includes(codeOrKey)) {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index + 1 });\n            } else if (codeOrKey === \"Home\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: () => 0 });\n            } else if (codeOrKey === \"End\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: () => Infinity });\n            } else if (codeOrKey === \"PageUp\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index - 10 });\n            } else if (codeOrKey === \"PageDown\") {\n                ev.preventDefault();\n\n                dispatch({ type: ActionType.select, payload: (index) => index + 10 });\n            }\n        };\n\n        document.addEventListener(\"keydown\", listener);\n\n        return () => {\n            document.removeEventListener(\"keydown\", listener);\n        };\n    }, []);\n\n    const onLineClick = useCallback((ev: React.MouseEvent<HTMLUListElement & HTMLLIElement>) => {\n        ev.stopPropagation();\n\n        if ((ev.target as any).classList.contains(\"line\")) {\n            const lineKey = Number.parseInt((ev.target as HTMLElement).dataset.key!, 10) || 0;\n\n            dispatch({ type: ActionType.select, payload: () => lineKey });\n        }\n    }, []);\n\n    const onLineDoubleClick = useCallback((ev: React.MouseEvent<HTMLUListElement | HTMLLIElement>) => {\n        ev.stopPropagation();\n\n        if (!audioRef.duration) {\n            return;\n        }\n\n        const target = ev.target as HTMLElement;\n\n        if (target.classList.contains(\"line\")) {\n            const key = Number.parseInt(target.dataset.key!, 10);\n\n            dispatch({\n                type: ActionType.getState,\n                payload: ({ lyric }) => {\n                    const time = lyric[key].time;\n                    if (time !== undefined) {\n                        audioRef.currentTime = guard(time, 0, audioRef.duration);\n                    }\n                },\n            });\n        }\n    }, []);\n\n    const LyricLineIter = useCallback(\n        (line: Readonly<ILyric>, index: number, lines: readonly ILyric[]) => {\n            const select = index === selectIndex;\n            const highlight = index === highlightIndex;\n            const error = index > 0 && lines[index].time! <= lines[index - 1].time!;\n\n            const className = Object.entries({\n                line: true,\n                select,\n                highlight,\n                error,\n            })\n                .reduce((p, [name, value]) => {\n                    if (value) {\n                        p.push(name);\n                    }\n                    return p;\n                }, [] as string[])\n                .join(Const.space);\n\n            return (\n                <LyricLine\n                    key={index}\n                    index={index}\n                    className={className}\n                    line={line}\n                    select={select}\n                    prefState={prefState}\n                />\n            );\n        },\n        [selectIndex, highlightIndex, prefState],\n    );\n\n    const ulClassName = prefState.screenButton ? \"lyric-list on-screen-button\" : \"lyric-list\";\n\n    return (\n        <>\n            <ul ref={ul} className={ulClassName} onClickCapture={onLineClick} onDoubleClickCapture={onLineDoubleClick}>\n                {state.lyric.map(LyricLineIter)}\n            </ul>\n            <AsidePanel syncMode={syncMode} setSyncMode={setSyncMode} lrcDispatch={dispatch} prefState={prefState} />\n            {prefState.screenButton && <SpaceButton sync={sync} />}\n        </>\n    );\n};\n\ninterface ILyricLineProps {\n    line: ILyric;\n    index: number;\n    select: boolean;\n    className: string;\n    prefState: PrefState;\n}\n\nconst LyricLine: React.FC<ILyricLineProps> = ({ line, index, select, className, prefState }) => {\n    const lineTime = convertTimeToTag(line.time, prefState.fixed);\n\n    const lineText = formatText(line.text, prefState.spaceStart, prefState.spaceEnd);\n\n    return (\n        <li key={index} data-key={index} className={className}>\n            {select && <Curser fixed={prefState.fixed} />}\n            <time className=\"line-time\">{lineTime}</time>\n            <span className=\"line-text\">{lineText}</span>\n        </li>\n    );\n};\n","import { info, themeColor } from \"../hooks/usePref.js\";\nimport { convertTimeToTag, formatText } from \"../lrc-parser.js\";\nimport { unregister } from \"../utils/sw.unregister.js\";\nimport { appContext, ChangBits } from \"./app.context.js\";\nimport { AkariHideWall } from \"./svg.img.js\";\n\nconst { useCallback, useContext, useEffect, useMemo, useRef } = React;\n\ninterface INumberInput {\n    min?: number;\n    max?: number;\n    defaultValue: number;\n    callback: (value: number, ref: React.RefObject<HTMLInputElement>) => void;\n}\n\nconst useNumberInput = ({ defaultValue, callback }: INumberInput, ref = useRef<HTMLInputElement>(null)) => {\n    useEffect(() => {\n        ref.current!.value = defaultValue.toString();\n    }, [defaultValue]);\n\n    const onChange = useCallback(\n        (ev: React.ChangeEvent<HTMLInputElement>) => {\n            if (ev.target.validity.valid) {\n                callback(Number.parseInt(ev.target.value, 10), ref);\n            }\n        },\n        [callback],\n    );\n\n    const onBlur = useCallback(\n        (ev: React.FocusEvent<HTMLInputElement>) => {\n            if (!ev.target.validity.valid) {\n                ref.current!.value = defaultValue.toString();\n            }\n        },\n        [callback, defaultValue],\n    );\n    return { type: \"number\", step: 1, ref, onChange, onBlur };\n};\n\nexport const Preferences: React.FC = () => {\n    const { prefState, prefDispatch, lang } = useContext(appContext, ChangBits.lang || ChangBits.prefState);\n\n    const onColorPick = useCallback((ev: React.ChangeEvent<HTMLInputElement>) => {\n        prefDispatch({\n            type: \"themeColor\",\n            payload: ev.target.value,\n        });\n    }, []);\n\n    const userColorInputText = useRef<HTMLInputElement>(null);\n\n    const onUserInput = useCallback((input: EventTarget & HTMLInputElement) => {\n        let value = input.value;\n\n        if (!input.validity.valid) {\n            input.value = input.defaultValue;\n            return;\n        }\n\n        if (value.length === 3) {\n            value = [].map.call(value, (v: string) => v + v).join(\"\");\n        }\n        if (value.length < 6) {\n            value = value.padEnd(6, \"0\");\n        }\n\n        prefDispatch({\n            type: \"themeColor\",\n            payload: \"#\" + value,\n        });\n    }, []);\n\n    const onUserColorInputBlur = useCallback((ev: React.FocusEvent<HTMLInputElement>) => onUserInput(ev.target), []);\n\n    const onColorSubmit = useCallback((ev: React.FormEvent<HTMLFormElement>) => {\n        ev.preventDefault();\n\n        const form = ev.target as HTMLFormElement;\n\n        const input = form.elements.namedItem(\"user-color-input-text\")! as HTMLInputElement;\n\n        return onUserInput(input);\n    }, []);\n\n    useEffect(() => {\n        userColorInputText.current!.value = prefState.themeColor.slice(1);\n    }, [prefState.themeColor]);\n\n    const onSpaceChange = useCallback((value: number, ref: React.RefObject<HTMLInputElement>) => {\n        prefDispatch({\n            type: ref.current!.name as \"spaceStart\" & \"spaceEnd\",\n            payload: value,\n        });\n    }, []);\n\n    const onCacheClear = useCallback(() => {\n        unregister();\n    }, []);\n\n    const updateTime = useMemo(() => {\n        const date = new Date(MetaData.updateTime);\n        const options = {\n            year: \"numeric\",\n            month: \"short\",\n            day: \"numeric\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n            second: \"numeric\",\n            timeZoneName: \"short\",\n            hour12: false,\n        };\n        return new Intl.DateTimeFormat(prefState.lang, options).format(date);\n    }, [prefState.lang]);\n\n    const onLangChanged = useCallback((ev: React.ChangeEvent<HTMLSelectElement>) => {\n        prefDispatch({\n            type: \"lang\",\n            payload: ev.target.value,\n        });\n    }, []);\n\n    const onBuiltInAudioToggle = useCallback(\n        () =>\n            prefDispatch({\n                type: \"builtInAudio\",\n                payload: !prefState.builtInAudio,\n            }),\n        [prefState.builtInAudio],\n    );\n\n    const onScreenButtonToggle = useCallback(\n        () =>\n            prefDispatch({\n                type: \"screenButton\",\n                payload: !prefState.screenButton,\n            }),\n        [prefState.screenButton],\n    );\n\n    const onFixedChanged = useCallback((ev: React.ChangeEvent<HTMLSelectElement>) => {\n        prefDispatch({\n            type: \"fixed\",\n            payload: Number.parseInt(ev.target.value, 10) as Fixed,\n        });\n    }, []);\n\n    const LangOptionList = useMemo(() => {\n        return Object.entries(info.languages).map(([langCode, langName]) => {\n            return (\n                <option key={langCode} value={langCode}>\n                    {langName}\n                </option>\n            );\n        });\n    }, []);\n\n    const ColorPickerWall = useMemo(() => {\n        return Object.values(themeColor).map((color) => {\n            const checked = color === prefState.themeColor;\n            const classNames = [\"color-picker\", \"ripple\"];\n            if (checked) {\n                classNames.push(\"checked\");\n            }\n            return (\n                <label className={classNames.join(Const.space)} key={color} style={{ backgroundColor: color }}>\n                    <input\n                        hidden={true}\n                        type=\"radio\"\n                        name=\"theme-color\"\n                        value={color}\n                        checked={checked}\n                        onChange={onColorPick}\n                    />\n                </label>\n            );\n        });\n    }, [prefState.themeColor]);\n\n    const currentThemeColorStyle = useMemo(() => {\n        return {\n            backgroundColor: prefState.themeColor,\n        };\n    }, [prefState.themeColor]);\n\n    const formatedText = useMemo(() => {\n        return formatText(\"   hello   世界～   \", prefState.spaceStart, prefState.spaceEnd);\n    }, [prefState.spaceStart, prefState.spaceEnd]);\n\n    const userColorLabel = useRef<HTMLLabelElement>(null);\n    const userColorInput = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (userColorInput.current!.type === \"color\") {\n            userColorLabel.current!.removeAttribute(\"for\");\n        }\n    }, []);\n\n    return (\n        <div className=\"preferences\">\n            <ul>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.version}</span>\n                        <span className=\"select-all\">{MetaData.version}</span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.commitHash}</span>\n                        <span className=\"select-all\">{MetaData.hash}</span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.updateTime}</span>\n                        <span>{updateTime}</span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.repo}</span>\n                        <a className=\"link\" href={Repo.url} target=\"_blank\" rel=\"noopener\">\n                            Github\n                        </a>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.help}</span>\n                        <a className=\"link\" href={Repo.wiki} target=\"_blank\" rel=\"noopener\">\n                            Github Wiki\n                        </a>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.language}</span>\n                        <div className=\"option-select\">\n                            <select\n                                value={prefState.lang}\n                                onChange={onLangChanged}\n                                aria-label={lang.preferences.language}\n                            >\n                                {LangOptionList}\n                            </select>\n                        </div>\n                    </section>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <span>{lang.preferences.builtInAudio}</span>\n                        <label className=\"toggle-switch\">\n                            <input\n                                type=\"checkbox\"\n                                checked={prefState.builtInAudio}\n                                onChange={onBuiltInAudioToggle}\n                                aria-label={lang.preferences.builtInAudio}\n                            />\n                            <span className=\"toggle-switch-label\" />\n                        </label>\n                    </label>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <span>{lang.preferences.spaceButton}</span>\n                        <label className=\"toggle-switch\">\n                            <input\n                                type=\"checkbox\"\n                                checked={prefState.screenButton}\n                                onChange={onScreenButtonToggle}\n                                aria-label={lang.preferences.spaceButton}\n                            />\n                            <span className=\"toggle-switch-label\" />\n                        </label>\n                    </label>\n                </li>\n\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.themeColor}</span>\n                        <details className=\"dropdown\">\n                            <summary>\n                                <span className=\"color-picker ripple hash\" style={currentThemeColorStyle}>\n                                    {\"#\"}\n                                </span>\n                                <span className=\"current-theme-color\">{prefState.themeColor.slice(1)}</span>\n                            </summary>\n                            <form className=\"dropdown-body color-wall\" onSubmit={onColorSubmit}>\n                                {ColorPickerWall}\n                                <label\n                                    className=\"color-picker ripple user-color-label hash\"\n                                    htmlFor=\"user-color-input-text\"\n                                    style={currentThemeColorStyle}\n                                    ref={userColorLabel}\n                                >\n                                    {\"#\"}\n                                    <input\n                                        type=\"color\"\n                                        className=\"color-picker pseudo-hidden\"\n                                        value={prefState.themeColor}\n                                        onChange={onColorPick}\n                                        ref={userColorInput}\n                                    />\n                                </label>\n                                <input\n                                    ref={userColorInputText}\n                                    id=\"user-color-input-text\"\n                                    name=\"user-color-input-text\"\n                                    className=\"user-color-input-text\"\n                                    type=\"text\"\n                                    pattern=\"[\\da-f]{3,6}\"\n                                    required={true}\n                                    autoCapitalize=\"none\"\n                                    autoComplete=\"off\"\n                                    autoCorrect=\"off\"\n                                    spellCheck={false}\n                                    defaultValue={prefState.themeColor.slice(1)}\n                                    onBlur={onUserColorInputBlur}\n                                />\n                            </form>\n                        </details>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.lrcFormat}</span>\n                        <span>\n                            <time className=\"format-example-time\">{convertTimeToTag(83.456, prefState.fixed)}</time>\n                            <span className=\"format-example-text\">{formatedText}</span>\n                        </span>\n                    </section>\n                </li>\n                <li>\n                    <section className=\"list-item\">\n                        <span>{lang.preferences.fixed}</span>\n                        <div className=\"option-select\">\n                            <select\n                                name=\"fixed\"\n                                value={prefState.fixed}\n                                onChange={onFixedChanged}\n                                aria-label={lang.preferences.lrcFormat}\n                            >\n                                <option value={0}>0</option>\n                                <option value={1}>1</option>\n                                <option value={2}>2</option>\n                                <option value={3}>3</option>\n                            </select>\n                        </div>\n                    </section>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <label htmlFor=\"space-start\">{lang.preferences.leftSpace}</label>\n                        <input\n                            name=\"spaceStart\"\n                            id=\"space-start\"\n                            required={true}\n                            min={-1}\n                            {...useNumberInput({\n                                defaultValue: prefState.spaceStart,\n                                callback: onSpaceChange,\n                            })}\n                        />\n                    </label>\n                </li>\n                <li>\n                    <label className=\"list-item\">\n                        <label htmlFor=\"space-end\">{lang.preferences.rightSpace}</label>\n                        <input\n                            name=\"spaceEnd\"\n                            id=\"space-end\"\n                            required={true}\n                            min={-1}\n                            {...useNumberInput({\n                                defaultValue: prefState.spaceEnd,\n                                callback: onSpaceChange,\n                            })}\n                        />\n                    </label>\n                </li>\n                <li className=\"ripple\" onTransitionEnd={onCacheClear}>\n                    <section className=\"list-item\">{lang.preferences.clearCache}</section>\n                </li>\n            </ul>\n            <AkariHideWall />\n        </div>\n    );\n};\n","export const unregister = async () => {\n    const APP_NAME = \"akari-lrc-maker\";\n\n    if (\"serviceWorker\" in navigator) {\n        await caches.keys().then((cacheNames) => {\n            return Promise.all(\n                cacheNames\n                    .filter((cacheName) => {\n                        return cacheName.startsWith(APP_NAME);\n                    })\n                    .map((cacheName) => {\n                        return caches.delete(cacheName);\n                    }),\n            );\n        });\n\n        await navigator.serviceWorker.getRegistration().then((registration) => {\n            if (registration) {\n                registration.unregister().then(() => {\n                    location.reload(true);\n                });\n            }\n        });\n    }\n};\n"],"sourceRoot":""}